(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=a,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"020a":function(t,e,o){"use strict";o("4e91")},"034f":function(t,e,o){"use strict";o("85ec")},"0451":function(t,e,o){"use strict";o("affd")},"087c":function(t,e,o){"use strict";o("43f3")},"0f3c":function(t,e,o){},1329:function(t,e,o){"use strict";o("6be2")},"155d":function(t,e,o){"use strict";o("b5ba")},"1a5c":function(t,e,o){"use strict";o("7669")},"23fc":function(t,e,o){"use strict";o("9f6d")},"26fb":function(t,e,o){"use strict";o("add1")},"43f3":function(t,e,o){},"4e91":function(t,e,o){},"4ee4":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("46a1"),o("450d");var a=o("e5f2"),n=o.n(a),r=(o("0fb7"),o("f529")),i=o.n(r),s=(o("9e1f"),o("6ed5")),l=o.n(s),c=(o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("0cdd"),o("a026")),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("transition",{attrs:{name:"el-zoom-in-top"}},[o("router-view",{staticStyle:{position:"absolute",width:"100%"}})],1)],1)},d=[],m={name:"app",components:{}},f=m,p=(o("034f"),o("2877")),g=Object(p["a"])(f,u,d,!1,null,null,null),h=g.exports,v=o("8c4f"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",{attrs:{height:"70px"}},[o("IndexNav")],1),o("el-main",[o("BannerComponent"),o("div",{staticClass:"news-content"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{lg:18}},[o("NewHouse"),o("LeaseHouse")],1),o("el-col",{attrs:{lg:6}},[o("TopHouse")],1)],1)],1)],1),o("el-footer",[o("IndexFooter")],1)],1)},w=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",{staticClass:"nav-box"},[o("el-col",{attrs:{lg:4,md:4,sm:8,xs:8}},[o("img",{staticStyle:{margin:"5px 0 0 10px"},attrs:{src:t.indexLogo}})]),o("el-col",{staticStyle:{"text-align":"right",padding:"15px"},attrs:{lg:0,md:0,sm:-1!=t.$route.path.indexOf("/login")||t.isLogin?16:10,xs:16}},[o("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-menu",staticStyle:{"font-size":"40px"}})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{icon:"el-icon-s-home",command:"/"}},[t._v("首页")]),o("el-dropdown-item",{attrs:{icon:"el-icon-school",command:"/renting"}},[t._v("租房")]),o("el-dropdown-item",{attrs:{icon:"el-icon-house",command:"/new-house"}},[t._v("新房")]),o("el-dropdown-item",{attrs:{icon:"el-icon-phone-outline",command:"/contact"}},[t._v("联系我们 ")]),o("el-dropdown-item",{attrs:{icon:"el-icon-edit",command:"/Feedback"}},[t._v("意见反馈")]),-1!=t.$route.path.indexOf("/login")||t.isLogin?t._e():o("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"/login/common"}},[t._v("登录")]),-1!=t.$route.path.indexOf("/login")||t.isLogin||-1!=t.$route.path.indexOf("/register")?t._e():o("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"/register"}},[t._v("注册")]),t.isLogin?o("el-dropdown-item",{attrs:{icon:"el-icon-s-custom",command:"/home/info"}},[t._v("个人中心")]):t._e()],1)],1)],1),o("el-col",{staticClass:"hidden-sm-only",attrs:{lg:16,md:14,xs:0}},[o("el-menu",{attrs:{"default-active":t.activeIndex,mode:"horizontal",router:""},on:{select:t.handleSelect}},[o("el-menu-item",{attrs:{index:"/"}},[o("i",{staticClass:"el-icon-s-home",staticStyle:{"font-size":"22px"}}),t._v("首页 ")]),o("el-menu-item",{attrs:{index:"/renting"}},[t._v("租房")]),o("el-menu-item",{attrs:{index:"/new-house"}},[t._v("新房")]),o("el-submenu",{attrs:{index:"/about"}},[o("template",{slot:"title"},[t._v("关于我们")]),o("el-menu-item",{attrs:{index:"/contact"}},[t._v("联系我们")]),o("el-menu-item",{attrs:{index:"/Feedback"}},[t._v("意见反馈")])],2)],1)],1),-1!=t.$route.path.indexOf("/login")||t.isLogin?t._e():o("el-col",{staticClass:"hidden-sm-only hidden-xs-only",attrs:{lg:4,md:6}},[o("el-button",{staticClass:"loginBtn",attrs:{round:"",icon:"el-icon-s-custom"},on:{click:function(e){return t.$router.push("/login/common")}}},[t._v("登录 ")]),-1==t.$route.path.indexOf("/register")?o("el-button",{staticClass:"registerBtn",attrs:{type:"primary",round:"",icon:"el-icon-edit-outline"},on:{click:function(e){return t.$router.push("/register")}}},[t._v("注册 ")]):t._e()],1),t.isLogin?o("el-col",{staticClass:"hidden-sm-only",attrs:{lg:4,md:6,sm:6,xs:0}},[o("div",{staticClass:"personal"},[o("el-link",{staticStyle:{transition:"all .3s"},attrs:{underline:!1,icon:"el-icon-s-custom",href:"/#/home/info"}},[t._v("个人中心")])],1)]):t._e()],1)},x=[],_=o("6d44"),C=o.n(_),S={name:"IndexNav",data:function(){return{activeIndex:this.$router.history.current.path,indexLogo:C.a,isLogin:!1}},mounted:function(){var t=this;this.axios.get("/login/checked").then((function(e){200==e.status&&("未登录"==e.data.msg?t.isLogin=!1:t.isLogin=!0)}))},methods:{handleSelect:function(t,e){console.log(t,e)},handleCommand:function(t){this.$router.push(t)}}},k=S,T=(o("9150"),Object(p["a"])(k,y,x,!1,null,null,null)),I=T.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[o("el-row",{staticClass:"footer-box"},[o("el-col",{attrs:{md:6,sm:12,xs:12,span:10}},[o("ul",[o("li",{staticClass:"title"},[t._v("技术支持")]),o("li",[t._v("小组：颠沛流离")])])]),o("el-col",{attrs:{md:6,sm:12,xs:12}},[o("ul",[o("li",{staticClass:"title"},[t._v("联系人")]),o("li",[t._v("蔡林")]),o("li",[t._v("何思密")]),o("li",[t._v("龙玉婷")]),o("li",[t._v("廖勇")])])]),o("el-col",{staticClass:"copy"},[o("span",[t._v("2019-2021 © 广西职业技术学院-百度人工智能产业学院")])])],1)],1)},$=[],D={name:"IndexFooter"},A=D,L=(o("936e"),Object(p["a"])(A,N,$,!1,null,"dc9aced0",null)),F=L.exports,B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-main",on:{mouseover:t.enterBannerBox,mouseleave:function(e){return t.autoMove()}}},[o("div",{staticClass:"banner-box-list"},[o("ul",{staticClass:"banners",style:{width:t.bannersWidth+"%",transform:"translateX(-"+t.imgIndex*(100/t.imgData.length)+"%)",transition:t.isTransition}},t._l(t.imgData,(function(e,a){return o("li",{key:a,style:{width:100/t.imgData.length+"%"}},[o("a",{attrs:{href:"javascript:;"}},[o("img",{attrs:{src:e.bannerImgUrl}})]),o("div",{staticClass:"banner-container"},[o("div",{staticClass:"container"},[o("div",{staticClass:"title"},[t._v(t._s(e.bannerTitle))]),o("p",[t._v(t._s(e.bannerContent))])])])])})),0),o("ul",{staticClass:"arr-box hidden-sm-only hidden-xs-only"},t._l(t.arrImgData,(function(e,a){return a<t.arrImgData.length-1?o("li",{key:a,class:t.index==a?"arr-active":"",attrs:{i:a},on:{mouseover:function(e){return t.move(a)}}},[o("img",{staticStyle:{width:"100%",height:"100%",display:"block"},attrs:{src:e.bannerImgUrl,alt:""}})]):t._e()})),0),o("div",{staticClass:"left el-icon-arrow-left",on:{click:t.toLeft}}),o("div",{staticClass:"right el-icon-arrow-right",on:{click:t.toRight}})])])},O=[],z={name:"BannerComponent",mounted:function(){var t=this;this.fullscreenLoading=!0,this.axios.get("/banner-handle/getBannerAll").then((function(e){200==e.status&&200==e.data.code&&(t.imgData=e.data.data,t.arrImgData=e.data.data,t.imgData.push(e.data.data[0]),t.bannersWidth=100*t.imgData.length,t.autoMove()),t.fullscreenLoading=!1})).catch((function(){t.fullscreenLoading=!1}))},data:function(){return{bannersWidth:0,imgData:[],arrImgData:[],fullscreenLoading:!1,index:0,imgIndex:0,isTransition:"all .4s",TimeID:"",flag:!0}},methods:{move:function(t){this.isTransition="all .4s",this.imgIndex=t,this.index=t},autoMove:function(){var t=this;clearInterval(this.TimeID),this.TimeID=setInterval((function(){t.toRight()}),2e3)},enterBannerBox:function(){clearInterval(this.TimeID)},toLeft:function(){var t=this;this.flag&&(this.flag=!1,this.imgIndex<=0?(this.index=this.imgData.length-2,this.isTransition="none",this.imgIndex=this.imgData.length-1,setTimeout((function(){t.imgIndex--,t.isTransition="all .4s",t.move(t.imgIndex)}),10)):(this.imgIndex--,this.isTransition="all .4s",this.move(this.imgIndex)),setTimeout((function(){t.flag=!0}),400))},toRight:function(){var t=this;this.flag&&(this.imgIndex++,this.flag=!1,this.imgIndex>=this.imgData.length-1?(this.index=0,setTimeout((function(){t.isTransition="none",t.imgIndex=0}),400)):(this.isTransition="all .4s",this.move(this.imgIndex)),setTimeout((function(){t.flag=!0}),400))}}},E=z,P=(o("e9a2"),Object(p["a"])(E,B,O,!1,null,"1e3826de",null)),M=P.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"new-house-box"},[o("div",{staticClass:"title-box"},[o("el-row",[o("el-col",{staticClass:"left-box",attrs:{sm:18,xs:18}},[o("i",{staticClass:"el-icon-office-building"}),o("span",{staticClass:"title"},[t._v("新房")])]),o("el-col",{staticClass:"right-box",attrs:{sm:6,xs:6}},[o("el-button",{attrs:{size:"small",round:""}},[t._v("更多"),o("i",{staticClass:"el-icon-d-arrow-right\n"})])],1)],1)],1),o("el-row",{staticClass:"content",attrs:{gutter:10}},t._l(t.itemData,(function(e){return o("el-col",{key:e.newsData.roomNewID,attrs:{lg:12,md:12,sm:12,xs:24}},[o("div",{on:{click:function(o){return t.goDetails(e)}}},[o("el-card",{staticClass:"item",staticStyle:{cursor:"pointer"},attrs:{shadow:"hover"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{lg:10,md:12,sm:12,xs:24}},[o("div",{staticClass:"item-left-top"},[o("el-image",{style:{height:"100%",width:"100%"},attrs:{src:e.imgUrl,fit:"contain"}},[o("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[o("el-tooltip",{attrs:{content:"暂无图片",placement:"top",effect:"light"}},[o("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"3rem",cursor:"pointer"}})])],1)])],1),o("div",{staticClass:"item-left-bottom"},[t._v(" ￥"),o("span",[t._v(t._s(e.newsData.roomNO.roomPrice))])])]),o("el-col",{attrs:{lg:14,md:12,sm:12,xs:24}},[o("div",{staticClass:"item-right"},[o("div",{staticClass:"house-title"},[t._v(t._s(e.newsData.newTitle))]),o("p",[t._v(t._s(e.newsData.newDescription))]),o("ul",{staticClass:"house-bottom"},[o("li",{staticClass:"time-box"},[o("i",{staticClass:"el-icon-date",staticStyle:{"margin-right":"5px"}}),t._v(t._s(e.newsData.newTime)+" ")]),o("li",{staticClass:"see-box"},[o("i",{staticClass:"el-icon-view",staticStyle:{"margin-right":"5px"}}),t._v(t._s(e.newsData.newSeeCount)+" ")])])])])],1)],1)],1)])})),1)],1)},H=[],j={name:"NewHouse",mounted:function(){var t=this;this.isLoading=!0,this.axios.get("/News/getNewHouses?newTypeID=1").then((function(e){200==e.status&&200==e.data.code&&(t.itemData=e.data.data,t.isLoading=!1)})).catch((function(){t.isLoading=!1}))},data:function(){return{itemData:[],isLoading:!1}},methods:{goDetails:function(t){console.log(t.newsData.roomNewID),this.$router.push("/details/"+t.newsData.roomNewID)}}},V=j,U=(o("76be"),Object(p["a"])(V,R,H,!1,null,null,null)),q=U.exports,W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"new-house-box"},[o("div",{staticClass:"title-box"},[o("el-row",[o("el-col",{staticClass:"left-box",attrs:{sm:18,xs:18}},[o("i",{staticClass:"el-icon-school"}),o("span",{staticClass:"title"},[t._v("可租房")])]),o("el-col",{staticClass:"right-box",attrs:{sm:6,xs:6}},[o("el-button",{attrs:{size:"small",round:""}},[t._v("更多"),o("i",{staticClass:"el-icon-d-arrow-right\n"})])],1)],1)],1),o("el-row",{staticClass:"content",attrs:{gutter:10}},t._l(t.itemData,(function(e){return o("el-col",{key:e.newsData.roomNewID,attrs:{lg:12,md:12,sm:12,xs:24}},[o("div",{on:{click:function(o){return t.goDetails(e)}}},[o("el-card",{staticClass:"item",staticStyle:{cursor:"pointer"},attrs:{shadow:"hover"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{lg:10,md:12,sm:12,xs:24}},[o("div",{staticClass:"item-left-top"},[o("el-image",{style:{height:"100%",width:"100%"},attrs:{src:e.imgUrl,fit:"contain"}},[o("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[o("el-tooltip",{attrs:{content:"暂无图片",placement:"top",effect:"light"}},[o("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"3rem",cursor:"pointer"}})])],1)])],1),o("div",{staticClass:"item-left-bottom"},[t._v(" ￥"),o("span",[t._v(t._s(e.newsData.roomNO.roomPrice))])])]),o("el-col",{attrs:{lg:14,md:12,sm:12,xs:24}},[o("div",{staticClass:"item-right"},[o("div",{staticClass:"house-title"},[t._v(t._s(e.newsData.newTitle))]),o("p",[t._v(t._s(e.newsData.newDescription))]),o("ul",{staticClass:"house-bottom"},[o("li",{staticClass:"time-box"},[o("i",{staticClass:"el-icon-date",staticStyle:{"margin-right":"5px"}}),t._v(t._s(e.newsData.newTime)+" ")]),o("li",{staticClass:"see-box"},[o("i",{staticClass:"el-icon-view",staticStyle:{"margin-right":"5px"}}),t._v(t._s(e.newsData.newSeeCount)+" ")])])])])],1)],1)],1)])})),1)],1)},Z=[],G={name:"leaseHouse",mounted:function(){var t=this;this.isLoading=!0,this.axios.get("/News/getNewHouses?newTypeID=3").then((function(e){200==e.status&&200==e.data.code&&(t.itemData=e.data.data,t.isLoading=!1)})).catch((function(){t.isLoading=!1}))},data:function(){return{itemData:[],isLoading:!1}},methods:{goDetails:function(t){this.$router.push("/details/"+t.newsData.roomNewID)}}},Y=G,J=(o("23fc"),Object(p["a"])(Y,W,Z,!1,null,null,null)),X=J.exports,K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"hotList"},[o("div",{staticClass:"title-box"},[o("el-row",[o("el-col",{staticClass:"left-box",attrs:{sm:18,xs:18}},[o("i",{staticClass:"el-icon-office-building"}),o("span",{staticClass:"title"},[t._v("热门房")]),o("span",{staticStyle:{"margin-left":"10px",padding:"7px","font-size":"14px","border-radius":"20px","background-color":"red",color:"#fff"}},[t._v("new")])]),o("el-col",{staticClass:"right-box",attrs:{sm:6,xs:6}},[o("el-button",{attrs:{size:"small",round:""}},[t._v("更多"),o("i",{staticClass:"el-icon-d-arrow-right\n"})])],1)],1)],1),o("div",{staticClass:"houseContent"},[o("el-row",t._l(t.itemData,(function(e){return o("el-col",{attrs:{lg:24,md:12,sm:24}},[o("div",{staticClass:"topHouseItem",on:{click:function(o){return t.goDetails(e)}}},[o("div",{staticClass:"header"},[o("el-image",{style:{height:"100%",width:"100%"},attrs:{src:e.imgUrl,fit:"contain"}},[o("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[o("el-tooltip",{attrs:{content:"暂无图片",placement:"top",effect:"light"}},[o("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"3rem",cursor:"pointer"}})])],1)]),o("div",{staticClass:"priceBox"},[o("span",{staticClass:"price-fix"},[t._v("￥")]),o("span",{staticClass:"priceText"},[t._v(t._s(e.newsData.roomNO.roomPrice))])])],1),o("div",{staticClass:"footer"},[o("span",[t._v(t._s(e.newsData.newTitle))])])])])})),1)],1)])},Q=[],tt={name:"TopHouse",mounted:function(){var t=this;this.isLoading=!0,this.axios.get("/News/getNewHouses?newTypeID=2").then((function(e){200==e.status&&200==e.data.code&&(t.itemData=e.data.data,t.isLoading=!1)})).catch((function(){t.isLoading=!1}))},data:function(){return{itemData:[],isLoading:!1}},methods:{goDetails:function(t){console.log(t),this.$router.push("/details/"+t.newsData.roomNewID)}}},et=tt,ot=(o("1329"),Object(p["a"])(et,K,Q,!1,null,"1116ed42",null)),at=ot.exports,nt={name:"Index",components:{IndexNav:I,IndexFooter:F,BannerComponent:M,NewHouse:q,LeaseHouse:X,TopHouse:at}},rt=nt,it=(o("bc6e"),Object(p["a"])(rt,b,w,!1,null,"52ccfd73",null)),st=it.exports,lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",{attrs:{height:"70px"}},[o("IndexNav")],1),o("el-main",[o("div",{staticClass:"main"},[o("div",{staticClass:"top"},[o("h2",[t._v("欢迎登录房屋租赁系统")])]),o("div",{staticClass:"bottom"},[o("el-row",[o("el-col",{staticClass:"hidden-sm-and-down",attrs:{lg:12,md:12}},[o("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"left"},[o("el-carousel",t._l(t.imgData,(function(t){return o("el-carousel-item",{key:t.id},[o("el-image",{attrs:{src:t.bannerImgUrl}})],1)})),1)],1)]),o("el-col",{staticClass:"right-content-box",staticStyle:{position:"relative"},attrs:{lg:12,md:12,sm:24,xs:24}},[o("transition",{attrs:{name:"el-zoom-in-center"}},[o("router-view",{staticStyle:{position:"absolute"}})],1)],1)],1)],1)])]),o("el-footer",[o("IndexFooter")],1)],1)},ct=[],ut={name:"Login",mounted:function(){var t=this;this.fullscreenLoading=!0,this.axios.get("/banner-handle/getBannerAll").then((function(e){200==e.status&&200==e.data.code&&(t.imgData=e.data.data),t.fullscreenLoading=!1})).catch((function(){t.fullscreenLoading=!1}))},data:function(){return{fullscreenLoading:!1,imgData:[]}},components:{IndexNav:I,IndexFooter:F}},dt=ut,mt=(o("cd55"),Object(p["a"])(dt,lt,ct,!1,null,"77e5de51",null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"right"},[o("el-form",{ref:"commonForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"",model:t.commonForm,rules:t.rules,"label-width":"70px","label-position":"center"}},[o("el-form-item",{attrs:{"label-width":"0",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"用户名/手机号","prefix-icon":"el-icon-user"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("commonForm")}},model:{value:t.commonForm.username,callback:function(e){t.$set(t.commonForm,"username",e)},expression:"commonForm.username"}})],1),o("el-form-item",{attrs:{"label-width":"0",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm("commonForm")}},model:{value:t.commonForm.password,callback:function(e){t.$set(t.commonForm,"password",e)},expression:"commonForm.password"}})],1),o("el-form-item",{staticStyle:{"text-align":"right","margin-right":"20px"}},[o("el-button",{staticClass:"registerBtn",attrs:{type:"text"},on:{click:function(e){return t.$router.push("/register")}}},[t._v("立即注册")])],1),o("el-form-item",{attrs:{"label-width":"0"}},[o("el-button",{staticClass:"login-btn",attrs:{loading:t.isloading,plain:""},on:{click:function(e){return t.submitForm("commonForm")}}},[t._v("登录")]),o("el-button",{staticClass:"login-btn-phone",on:{click:function(e){return t.$router.push("/login/Wx")}}},[t._v("微信登录")])],1)],1)],1)},gt=[],ht=(o("498a"),{name:"Common",data:function(){var t=function(t,e,o){""==e?o(new Error("请输入用户名或手机号")):o()},e=function(t,e,o){""==e.trim()?o(new Error("请输入密码")):o()};return{commonForm:{username:"",password:""},isloading:!1,rules:{username:[{validator:t,trigger:"blur"}],password:[{validator:e,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var o=e.commonForm,a=o.username,n=o.password;e.isloading=!0,e.axios.post("/login",{username:a,password:n}).then((function(t){if(e.isloading=!1,200==t.status){var o=t.data;"登录失败"==o.msg?i.a.error(o.data):"登录成功"==o.msg&&(localStorage.setItem("token",o.data.token),e.$message.success("登录成功"),e.$router.push("/home/info"))}else i.a.error("网络不稳定，请检测网络！！")})).catch((function(){e.isloading=!1}))}}))}}}),vt=ht,bt=(o("c984"),Object(p["a"])(vt,pt,gt,!1,null,"0c3024ac",null)),wt=bt.exports,yt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"right",staticStyle:{position:"relative"}},[o("el-form",{staticClass:"demo-ruleForm",attrs:{"label-position":"center"}},[o("div",{attrs:{id:"weixin"}}),o("el-form-item",{attrs:{"label-width":"0"}},[o("el-button",{staticClass:"login-btn",attrs:{size:"medium",round:"",type:"warning",plain:""},on:{click:function(e){return t.$router.back()}}},[t._v("返回 ")])],1)],1)],1)},xt=[],_t=(o("ca05"),{name:"Wx",mounted:function(){new WxLogin({id:"weixin",appid:"wx7287a60bb700fd21",scope:"snsapi_login",redirect_uri:"http://www.txjava.cn/api/wxLogin"})},data:function(){return{}},methods:{}}),Ct=_t,St=(o("b259"),Object(p["a"])(Ct,yt,xt,!1,null,"33cf02a1",null)),kt=St.exports,Tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-aside",[o("Side",{directives:[{name:"loading",rawName:"v-loading",value:t.menuListLoading,expression:"menuListLoading"}],attrs:{collapse:t.isCollapse,userMenuList:t.userMenuList,bgc:t.bgc,"active-color":t.activeColor,"text-color":t.textColor,"element-loading-background":"rgba(255, 255, 255, 0.6)"}})],1),o("el-container",[o("el-header",{style:{height:t.headHeight,backgroundColor:t.lineBgc}},[o("Myheader",{attrs:{username:t.username,userMenuList:t.userMenuList,menuTitle:t.menuTitle,userType:t.userType,btnSize:t.btnSize,updateModel:t.updateModel,bgc:t.bgc,"text-color":t.textColor,"active-color":t.activeColor,flag:t.flag,userID:t.userID}})],1),o("el-main",{style:{backgroundColor:t.lineBgc}},[o("div",{staticClass:"main"},[o("transition",{attrs:{name:"el-fade-in-linear"}},[o("router-view",{style:{position:"absolute",width:"100%"},attrs:{small:t.isSmall,updateMenuTitle:t.updateMenuTitle,btnSize:t.btnSize,bgc:t.bgc,"text-color":t.textColor,"active-color":t.activeColor,flag:t.flag,formLabelPosition:t.formLabelPosition,username:t.username,userID:t.userID,userType:t.userType}})],1)],1)])],1)],1)},It=[],Nt=(o("4160"),o("159b"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tac",style:{backgroundColor:t.bgc}},[o("div",{staticClass:"logo-box hidden-xs-only"},[o("img",{attrs:{src:t.logo}})]),o("el-menu",{attrs:{"default-active":this.$route.path,collapse:t.collapse,router:"","background-color":t.bgc,"text-color":t.textColor,"active-text-color":t.activeColor},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.userMenuList,(function(e){return[e.children?o("el-submenu",{key:e.menuId,attrs:{index:e.index}},[o("template",{slot:"title"},[o("i",{class:e.menuIcon}),o("span",[t._v(t._s(e.menuTitle))])]),t._l(e.children,(function(a){return o("el-menu-item-group",{key:a.menuId},[o("el-menu-item",{key:e.menuUrl+""+a.menuUrl,attrs:{index:e.menuUrl+""+a.menuUrl}},[t._v(t._s(a.menuTitle)+" ")])],1)}))],2):o("el-menu-item",{key:e.menuId,attrs:{index:e.menuUrl}},[o("i",{class:e.menuIcon}),o("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.menuTitle))])])]}))],2)],1)}),$t=[],Dt=o("6145"),At=o.n(Dt),Lt={name:"Side",props:{collapse:Boolean,userMenuList:Array,bgc:String,textColor:String,activeColor:String},data:function(){return{logo:At.a}},methods:{handleOpen:function(t,e){},handleClose:function(t,e){}}},Ft=Lt,Bt=(o("26fb"),Object(p["a"])(Ft,Nt,$t,!1,null,"ba03bc4a",null)),Ot=Bt.exports,zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"header",style:{backgroundColor:t.bgc,color:t.textColor}},[o("div",{staticStyle:{float:"left"}},[o("span",{staticClass:"menu-title"},[t._v(t._s(t.menuTitle))])]),o("div",{staticClass:"left hidden-xs-only"},[o("el-tag",{staticStyle:{"margin-top":"15px"},attrs:{type:t.flag?"":"info"}},[t._v(t._s(t.time))]),o("el-tooltip",{staticStyle:{margin:"0 10px"},attrs:{content:"当前主题："+t.isAuto,placement:"top"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"系统自适应","inactive-value":t.hour>7&&t.hour<18?"黑":"白"},model:{value:t.isAuto,callback:function(e){t.isAuto=e},expression:"isAuto"}})],1)],1),o("div",{staticClass:"right"},[o("MessageBadge",{attrs:{"user-type":t.userType,color:t.textColor,userID:t.userID}}),o("span",{staticClass:"username"},["管理员"==t.userType?o("span",[t._v("管理员：")]):t._e(),t._v(" "+t._s(t.username)+" ")]),o("el-button",{attrs:{type:t.flag?"primary":"info",icon:"el-icon-switch-button",round:"",plain:"",size:t.btnSize},on:{click:function(e){t.dialogVisible=!0}}},[t._v("退出 ")])],1)]),o("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:"退出提醒",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("span",[t._v("您确定要退出吗？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.exit()}}},[t._v("确 定")])],1)])],1)},Et=[],Pt=(o("99af"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",["管理员"==t.userType?o("el-badge",{staticClass:"hidden-xs-only",attrs:{value:t.total,max:99}},[o("el-dropdown",{style:{color:t.color,fontSize:"16px"},attrs:{trigger:"hover"}},[o("span",{staticClass:"el-dropdown-link"},[t._v(" 消息"),o("i",{staticClass:"el-icon-bell el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[t._v(" 看房申请 "),o("el-badge",{attrs:{value:t.seeRoomApplyBadge}})],1),o("el-dropdown-item",[t._v(" 退房申请 "),o("el-badge",{attrs:{value:t.outRoomApplyBadge}})],1),o("el-dropdown-item",[t._v(" 待处理报障 "),o("el-badge",{attrs:{value:t.reportApplyBadge}})],1)],1)],1)],1):t._e(),"认证用户"==t.userType?o("el-badge",{staticClass:"hidden-xs-only",attrs:{value:t.totalTenant,max:99}},[o("el-dropdown",{style:{color:t.color,fontSize:"16px"},attrs:{trigger:"hover"}},[o("span",{staticClass:"el-dropdown-link"},[t._v(" 消息"),o("i",{staticClass:"el-icon-bell el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[t._v(" 待缴租金 "),o("el-badge",{attrs:{value:t.recolletApplyBadgeTenant}})],1),o("el-dropdown-item",[t._v(" 已处理报障 "),o("el-badge",{attrs:{value:t.portApplyBadgeTenant}})],1)],1)],1)],1):t._e()],1)}),Mt=[],Rt={name:"MessageBadge",props:{userType:String,color:String,userID:String},watch:{userType:{handler:function(t){},immediate:!0},seeRoomApplyBadge:{handler:function(t){this.total=this.outRoomApplyBadge+t+this.reportApplyBadge}},outRoomApplyBadge:{handler:function(t){this.total=this.seeRoomApplyBadge+t+this.reportApplyBadge}},reportApplyBadge:{handler:function(t){this.total=this.outRoomApplyBadge+t+this.seeRoomApplyBadge}},recolletApplyBadgeTenant:{handler:function(t){this.totalTenant=t+this.portApplyBadgeTenant}},portApplyBadgeTenant:{handler:function(t){this.totalTenant=t+this.recolletApplyBadgeTenant}}},mounted:function(){},data:function(){return{seeRoomApplyBadge:0,outRoomApplyBadge:0,reportApplyBadge:0,total:0,isOnline:!0,recolletApplyBadgeTenant:0,portApplyBadgeTenant:0,totalTenant:0}},methods:{adminGetMessageNoti:function(){var t=this;this.isOnline&&this.axios.get("/getAdminRoomApplyMessage?userID=".concat(this.userID),{timeout:18e4}).then((function(e){e.data&&200==e.data.code&&(e.data.data.forEach((function(e,o){setTimeout((function(){t.$notify({title:e.title,type:"info",message:"【".concat(e.date,"】 ").concat(e.content)})}),100*o)})),t.getCountRoomApply()),400!=e.data.code&&t.adminGetMessageNoti()})).catch((function(){t.adminGetMessageNoti()}))},getCountRoomApply:function(){var t=this;this.axios.get("/getCountRoomApply").then((function(e){200==e.status&&200==e.data.code&&(t.seeRoomApplyBadge=e.data.count)}))}},beforeDestroy:function(){}},Ht=Rt,jt=(o("a9a7"),Object(p["a"])(Ht,Pt,Mt,!1,null,"859f8386",null)),Vt=jt.exports,Ut={name:"Myheader",components:{MessageBadge:Vt},props:{username:String,userMenuList:Array,userType:String,menuTitle:String,btnSize:String,updateModel:Function,bgc:String,textColor:String,activeColor:String,flag:Boolean,userID:String},data:function(){return{time:"",dialogVisible:!1,hour:0,isAuto:"系统自适应"}},mounted:function(){this.getTime(),setInterval(this.getTime,1e3),this.updateView((new Date).getHours())},watch:{isAuto:{handler:function(t){this.isAuto=t,this.updateModel(!this.flag)},immediate:!0}},methods:{getDays:function(t){var e="";switch(t){case 1:e="一";break;case 2:e="二";break;case 3:e="三";break;case 4:e="四";break;case 5:e="五";break;case 6:e="六";break;case 0:e="日";break}return e},getTime:function(){var t=new Date,e=t.getFullYear(),o=t.getMonth(),a=t.getDate(),n=t.getDay();"系统自适应"==this.isAuto&&this.hour!=t.getHours()&&(this.hour=t.getHours(),this.updateView(this.hour)),this.time="".concat(e,"年").concat(o+1,"月").concat(a,"日 星期").concat(this.getDays(n)," ").concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},exit:function(){null!=localStorage.getItem("token")&&(localStorage.removeItem("token"),this.$router.push("/"),i.a.success("退出成功！！"))},updateView:function(t){t>7&&t<18?this.updateModel(!0):this.updateModel(!1)}}},qt=Ut,Wt=(o("f300"),Object(p["a"])(qt,zt,Et,!1,null,"c1a1e8b2",null)),Zt=Wt.exports,Gt={name:"Home",components:{Side:Ot,Myheader:Zt},mounted:function(){var t=this;this.screenSizeHandle(),window.onresize=function(){return t.screenSizeHandle()},this.menuListLoading=!0,this.axios.get("/login/getUser").then((function(e){if(200==e.status)if(e.data.data){var o=e.data.data,a=o.username,n=o.userType,r=o.userID;t.username=a,t.userType=n,t.userID=r,t.axios({method:"get",url:"/getSideMenuScope?userType=".concat(n)}).then((function(e){t.menuListLoading=!1,t.formatMenu(e.data.data)})).catch((function(){t.menuListLoading=!1}))}else i.a.error("加载数据失败")})).catch((function(){t.menuListLoading=!0}))},data:function(){return{userMenuList:[],menuListLoading:!1,isCollapse:!0,isSmall:!1,headHeight:"auto",username:"",userID:"",userType:"",menuTitle:"首页",btnSize:"small",bgc:"#fff",textColor:"#909399",activeColor:"#409eff",lineBgc:"#eee",flag:!0,formLabelPosition:"left"}},methods:{formatMenu:function(t){var e=[];t.forEach((function(t,o){null==t.menuParent&&(t.index=o+"",e.push(t))})),t.forEach((function(t){null!=t.menuParent&&e.forEach((function(e){t.menuParent==e.menuId&&(e.children||(e.children=[]),e.children.push(t))}))})),this.userMenuList=e},updateMenuTitle:function(t){this.menuTitle=t},updateModel:function(t){this.flag=t,t?(this.bgc="#fff",this.textColor="#909399",this.activeColor="#409eff",this.lineBgc="#eee"):(this.bgc="#100C2A",this.textColor="#fff",this.activeColor="#ffd04b",this.lineBgc="#000")},screenSizeHandle:function(){var t=document.body.clientWidth;t<=375||t<768?(this.btnSize="mini",this.isCollapse=!0,this.isSmall=!0,this.formLabelPosition="top"):(this.btnSize="small",this.isCollapse=!1,this.isSmall=!1,this.formLabelPosition="left")}}},Yt=Gt,Jt=(o("902d"),Object(p["a"])(Yt,Tt,It,!1,null,"7904ead2",null)),Xt=Jt.exports,Kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",{attrs:{height:"70px"}},[o("IndexNav")],1),o("el-main",[o("div",{staticClass:"main"},[o("div",{staticClass:"top"},[o("h2",[t._v("房屋租赁系统用户注册")])]),o("div",{staticClass:"bottom"},[o("el-row",[o("el-col",{attrs:{lg:24}},[o("div",{staticClass:"content"},[o("el-form",{ref:"commonForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"",model:t.commonForm,rules:t.rules,"label-width":"70px","label-position":"center"}},[o("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入手机号"},model:{value:t.commonForm.phone,callback:function(e){t.$set(t.commonForm,"phone",e)},expression:"commonForm.phone"}})],1),o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入用户名"},model:{value:t.commonForm.username,callback:function(e){t.$set(t.commonForm,"username",e)},expression:"commonForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:t.commonForm.password,callback:function(e){t.$set(t.commonForm,"password",e)},expression:"commonForm.password"}})],1),o("el-form-item",[o("el-progress",{attrs:{percentage:t.percentage,color:t.customColorMethod,format:t.formatpwd}})],1),o("el-form-item",{attrs:{label:"确认密码",prop:"repassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入确认密码"},model:{value:t.commonForm.repassword,callback:function(e){t.$set(t.commonForm,"repassword",e)},expression:"commonForm.repassword"}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{staticClass:"code-input",staticStyle:{float:"left"},attrs:{autocomplete:"off",placeholder:"请输入验证码"},model:{value:t.commonForm.code,callback:function(e){t.$set(t.commonForm,"code",e)},expression:"commonForm.code"}}),o("VerificationCode",{staticStyle:{float:"right"},attrs:{cgCode:t.cgCode,identifyCode:t.identifyCode}})],1),o("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{"label-width":"0"}},[o("el-button",{staticClass:"register-btn",attrs:{type:"primary",loading:t.isloading},on:{click:function(e){return t.submitForm("commonForm")}}},[t._v(" 注册 ")])],1)],1)],1)])],1)],1)])]),o("el-footer",[o("IndexFooter")],1)],1)},Qt=[],te=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"s-canvas",on:{click:t.changeCode}},[o("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},ee=[],oe=(o("cb29"),o("a9e3"),{name:"Code",data:function(){return{code:""}},props:{identifyCode:String,cgCode:Function,identifyCodes:{type:String,default:"1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:100},contentHeight:{type:Number,default:44}},watch:{identifyCode:function(t,e){this.code=t,this.drawPic()}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var o=this.randomNum(t,e),a=this.randomNum(t,e),n=this.randomNum(t,e);return"rgb("+o+","+a+","+n+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var o=0;o<this.code.length;o++)this.drawText(e,this.code[o],o);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,o){t.fillStyle=this.randomColor(50,160),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var a=(o+1)*(this.contentWidth/(this.code.length+1)),n=this.randomNum(this.fontSizeMax,this.contentHeight-5),r=this.randomNum(-30,30);t.translate(a,n),t.rotate(r*Math.PI/180),t.fillText(e,0,0),t.rotate(-r*Math.PI/180),t.translate(-a,-n)},drawLine:function(t){for(var e=0;e<4;e++)t.strokeStyle=this.randomColor(100,200),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<30;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()},changeCode:function(){this.code=this.cgCode()}}}),ae=oe,ne=Object(p["a"])(ae,te,ee,!1,null,null,null),re=ne.exports,ie={name:"Register",mounted:function(){this.cgCode()},data:function(){var t=this,e=function(e,o,a){o=o.trim();var n=/^[\u4e00-\u9fa5\w]{3,16}$/g;""===o?a(new Error("请输入用户名")):n.test(o)?t.axios({method:"get",url:"/checkUserIslive?username="+o}).then((function(t){200==t.status&&("未注册"==t.data.msg?a():"已注册"==t.data.msg?a(new Error("该用户名已被注册，请更换")):a(new Error(t.data.msg)))})):a(new Error("用户名只能是中文、字母、数字、下划线组成的3-16个字符！！"))},o=function(e,o,a){o=o.trim(),""===o?(a(new Error("请输入密码")),t.percentage=0):o.length<6||o.length>18?a(new Error("请输入6-18位，数字、大小写字母组成的密码！！")):/^\d+$/.test(o)||/^[a-z]+$/.test(o)||/^[A-Z]+$/.test(o)?(t.percentage=33,a()):/^[a-z0-9]+$/g.test(o)?(t.percentage=66,a()):/^[A-Za-z0-9]+$/g.test(o)?(t.percentage=100,a()):a()},a=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入手机号码!")):/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(e)?o():o(new Error("请输入正确的手机号码!!"))},n=function(e,o,a){""==o.trim()?a(new Error("请输入确认密码")):o!=t.commonForm.password?a(new Error("密码不一致")):a()},r=function(t,e,o){""==e.trim()?o(new Error("请输入验证码")):o()};return{commonForm:{username:"",password:"",phone:"",repassword:"",code:""},percentage:0,isloading:!1,identifyCode:"",rules:{username:[{validator:e,trigger:"blur"}],password:[{validator:o,trigger:"change"}],phone:[{validator:a,trigger:"blur"}],repassword:[{validator:n,trigger:"blur"}],code:[{validator:r,trigger:"blur"}]}}},components:{IndexNav:I,IndexFooter:F,VerificationCode:re},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var o=e.commonForm,a=o.username,n=o.password,r=o.phone,s=o.code,l=o.repassword;e.axios.post("/register",e.$qs.stringify({username:a,password:n,phone:r,repassword:l,code:s})).then((function(t){200==t.status&&("注册成功"==t.data.msg?(e.$router.push("/login/common"),i.a.success(t.data.msg)):i.a.error(t.data.msg))}))}}))},cgCode:function(){var t=this;this.axios.get("/getCode",{params:this.$qs.stringify({phone:this.submitForm.phone})}).then((function(e){200==e.status&&(t.identifyCode=e.data.data.code)}))},formatpwd:function(t){return 33==t?"弱":66==t?(console.log(t),"中"):100==t?"强":void 0},customColorMethod:function(t){return t<=33?"#f56c6c":t<=66?"#e6a23c":t<=100?"#5cb87a":void 0}}},se=ie,le=(o("020a"),Object(p["a"])(se,Kt,Qt,!1,null,"c0eab006",null)),ce=le.exports,ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"room-list-box"},[o("el-row",{staticClass:"top"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},["mini"==t.btnSize?o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:t.btnSize},on:{click:function(e){return t.$router.back()}}}),"管理员"==t.userType?o("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:t.btnSize},on:{click:function(e){t.addDialogVisible=!0}}}):t._e(),o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showDelAllBtn,expression:"showDelAllBtn"}],attrs:{type:"danger",loading:t.delBtnIsLoading,icon:"el-icon-delete",size:t.btnSize},on:{click:t.deleteAllRow}})],1):o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:t.btnSize},on:{click:function(e){return t.$router.back()}}},[t._v("返回 ")]),"管理员"==t.userType?o("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:t.btnSize},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加房源信息 ")]):t._e(),o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showDelAllBtn,expression:"showDelAllBtn"}],attrs:{type:"danger",loading:t.delBtnIsLoading,icon:"el-icon-delete",size:t.btnSize},on:{click:t.deleteAllRow}},[t._v(t._s(t.delBtnIsLoading?"删除中..":"删除所有选中")+" ")])],1)],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},["管理员"==t.userType?o("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"房源编号"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomNO:e.row.roomNO))])]),o("el-form-item",{attrs:{label:"发布人"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.user.userName:e.row.user.userName))])]),o("el-form-item",{attrs:{label:"更新时间"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomLatelyTime:e.row.roomLatelyTime))])]),o("el-form-item",{attrs:{label:"联系电话"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.user.userPhone:e.row.user.userPhone))])]),o("el-form-item",{attrs:{label:"面积"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomArea:e.row.roomArea)),o("el-tag",{staticStyle:{"margin-left":"10px"}},[t._v("（㎡）")])],1)]),o("el-form-item",{attrs:{label:"地址"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomAddress:e.row.roomAddress))])]),o("el-form-item",{attrs:{label:"价格"}},[o("span",[o("el-tag",{attrs:{type:"danger"}},[t._v("￥"+t._s(void 0!=e.row.data?e.row.data.roomPrice:e.row.roomPrice))])],1)])],1)]}}])}),o("el-table-column",{attrs:{label:"日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon-time"}),o("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(void 0!=e.row.data?e.row.data.roomTime:e.row.roomTime))])]}}])}),o("el-table-column",{attrs:{label:"房源编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomNO:e.row.roomNO))])]}}])}),o("el-table-column",{attrs:{label:"地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomAddress:e.row.roomAddress))])]}}])}),o("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomStatus:e.row.roomStatus))])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["管理员"==t.userType?o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(o){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑 ")]):t._e(),"管理员"==t.userType?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")]):t._e(),"管理员"==t.userType||"空闲"!=e.row.roomStatus&&"空闲"!=e.row.data.roomStatus?t._e():o("el-button",{attrs:{size:"mini",type:"primary",plain:"",disabled:void 0!=e.row.data&&e.row.isApply},on:{click:function(o){return t.applyRoomHandle(e.$index,e.row)}}},[t._v(t._s(void 0!=e.row.data&&e.row.isApply?"已申请":"申请看房")+" ")])]}}])})],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改房源",visible:t.dialogFormVisible,"destroy-on-close":!0,"before-close":t.closeDialogHandle},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{ref:"form",attrs:{"status-icon":"",rules:t.rules,"label-position":"center",model:t.form,"label-width":"100px",size:"small"}},[o("el-form-item",{attrs:{label:"房源地址：","label-suffix":"￥",prop:"roomAddress"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.roomAddress,callback:function(e){t.$set(t.form,"roomAddress",e)},expression:"form.roomAddress"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源面积：",prop:"roomArea"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomArea,callback:function(e){t.$set(t.form,"roomArea",e)},expression:"form.roomArea"}}),o("el-tag",[t._v("㎡")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源单价：",prop:"roomPrice"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomPrice,callback:function(e){t.$set(t.form,"roomPrice",e)},expression:"form.roomPrice"}}),o("el-tag",{attrs:{type:"danger"}},[t._v("元")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源状态：",prop:"roomStatus"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form.roomStatus,callback:function(e){t.$set(t.form,"roomStatus",e)},expression:"form.roomStatus"}},[o("el-option",{attrs:{label:"空闲",value:"空闲"}}),o("el-option",{attrs:{label:"已租",value:"已租"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.closeDialogHandle}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.editBtnIsLoading},on:{click:function(e){return t.submitForm("form")}}},[t._v(" "+t._s(t.editBtnIsLoading?"修改中":"修改")+" ")])],1)],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加房源",visible:t.addDialogVisible,"destroy-on-close":!0,"before-close":t.closeDialogHandle},on:{"update:visible":function(e){t.addDialogVisible=e}}},[o("el-form",{ref:"form",attrs:{"status-icon":"",rules:t.rules,"label-position":"center",model:t.form,"label-width":"100px",size:"small"}},[o("el-form-item",{attrs:{label:"房源地址：","label-suffix":"￥",prop:"roomAddress"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.roomAddress,callback:function(e){t.$set(t.form,"roomAddress",e)},expression:"form.roomAddress"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源面积：",prop:"roomArea"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomArea,callback:function(e){t.$set(t.form,"roomArea",e)},expression:"form.roomArea"}}),o("el-tag",[t._v("㎡")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源单价：",prop:"roomPrice"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomPrice,callback:function(e){t.$set(t.form,"roomPrice",e)},expression:"form.roomPrice"}}),o("el-tag",{attrs:{type:"danger"}},[t._v("元")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源状态：",prop:"roomStatus"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form.roomStatus,callback:function(e){t.$set(t.form,"roomStatus",e)},expression:"form.roomStatus"}},[o("el-option",{attrs:{label:"空闲",value:"空闲"}}),o("el-option",{attrs:{label:"已租",value:"已租"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.closeDialogHandle}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.editBtnIsLoading},on:{click:function(e){return t.addSubmitForm("form")}}},[t._v(" "+t._s(t.editBtnIsLoading?"添加中":"添加")+" ")])],1)],1),o("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage,"hide-on-single-page":""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)},de=[],me={name:"RoomList",props:{updateMenuTitle:Function,userType:String,userID:String,btnSize:String},mounted:function(){var t=this;this.updateMenuTitle("房源列表"),setTimeout((function(){"管理员"==t.userType?t.getRoomSource(0):t.getTenantRoomList(0)}),100)},data:function(){var t=function(t,e,o){e=e.trim(),""===e&&o(new Error("请输入地址！！")),o()},e=function(t,e,o){e=e.trim(),/^\d+.?\d{0,2}$/.test(e)?o():o(new Error("请输入正确的数字，小数为2位！！"))},o=function(t,e,o){e=e.trim(),/^\d+.?\d{0,2}$/.test(e)?o():o(new Error("请输入正确的数字，小数为2位！！"))},a=function(t,e,o){e=e.trim(),""===e&&o("请选择状态"),o()};return{isLoading:!1,editBtnIsLoading:!1,tableData:[],dialogFormVisible:!1,addDialogVisible:!1,showDelAllBtn:!1,delBtnIsLoading:!1,applyLoading:!1,deleteAllRowArr:[],form:{roomNO:"",roomAddress:"",roomArea:"",roomPrice:"",roomStatus:""},totalPage:0,pageSize:10,currentPage:0,rules:{roomAddress:{validator:t,trigger:"blur"},roomArea:{validator:e,trigger:"blur"},roomPrice:{validator:o,trigger:"blur"},roomStatus:{validator:a,trigger:"blur"}}}},methods:{handleEdit:function(t,e){this.form.roomNO=e.roomNO,this.form.roomAddress=e.roomAddress,this.form.roomArea=e.roomArea+"",this.form.roomPrice=e.roomPrice+"",this.form.roomStatus=e.roomStatus,this.dialogFormVisible=!0},closeDialogHandle:function(){this.form.roomAddress="",this.form.roomArea="",this.form.roomPrice="",this.form.roomStatus="",this.addDialogVisible=!1,this.dialogFormVisible=!1},handleDelete:function(t,e){var o=this;this.$MessageBox.confirm("此操作将永久删除该记录, 是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.axios.post("/RoomSource/delete",{roomNO:e.roomNO}).then((function(t){200==t.status&&200==t.data.code?(o.$message({type:"success",message:"删除成功!"}),o.getRoomSource(o.currentPage-1)):o.$message({type:"error",message:"删除失败!"})}))}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.editBtnIsLoading=!0,e.axios.post("/RoomSource/edit",e.form).then((function(t){200==t.status&&200==t.data.code?i.a.success(t.data.msg):i.a.error(t.data.msg),e.getRoomSource(e.currentPage-1),e.editBtnIsLoading=!1,e.dialogFormVisible=!1})).catch((function(){e.editBtnIsLoading=!1,e.dialogFormVisible=!1}))}))},addSubmitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.editBtnIsLoading=!0;var o=e.form,a=o.roomAddress,n=o.roomArea,r=o.roomPrice,i=o.roomStatus;e.axios.post("/RoomSource/add",{roomAddress:a,roomArea:n,roomPrice:r,roomStatus:i,userID:e.userID}).then((function(t){200==t.status?200==t.data.code?(e.$message.success(t.data.msg),e.editBtnIsLoading=!1,e.getRoomSource(e.currentPage-1),e.closeDialogHandle()):e.$message.error(t.data.msg):e.$message.error("网络异常，请重试！！")})).catch((function(){e.editBtnIsLoading=!1}))}))},handleCurrentChange:function(t){this.getRoomSource(t-1)},handleSizeChange:function(t){this.pageSize=t},getRoomSource:function(t){var e=this;this.isLoading=!0,this.axios.get("/getRoomList?currentPage="+t+"&pageSize="+this.pageSize).then((function(t){e.tableData=t.data.data,e.isLoading=!1})).catch((function(){e.isLoading=!1}))},handleSelectionChange:function(t){t&&(this.showDelAllBtn=t.length>=2),this.deleteAllRowArr=t},deleteAllRow:function(){var t=this,e=[];this.deleteAllRowArr.forEach((function(t){e.push(t.roomNO)})),this.delBtnIsLoading=!0,this.isLoading=!0,this.axios.post("/RoomSource/deleteAll",{deleteAllRoomNOArr:e}).then((function(e){200==e.status&&200==e.data.code?(t.$message.success(e.data.msg),t.getRoomSource(t.currentPage-1)):t.$message.error(e.data.msg),t.delBtnIsLoading=!1,t.isLoading=!1})).catch((function(){t.delBtnIsLoading=!1,t.isLoading=!1}))},applyRoomHandle:function(t,e){var o=this;this.isLoading=!0,this.$message.warning("申请中.."),this.axios.get("/ApplySeeRoom?userID=".concat(this.userID,"&roomNO=").concat(e.roomNO?e.roomNO:e.data.roomNO)).then((function(t){200==t.status&&(200==t.data.code?(o.$message.success(t.data.msg),o.getTenantRoomList(o.currentPage-1)):o.$message.error(t.data.msg),o.isLoading=!1)})).catch((function(){o.isLoading=!1}))},getTenantRoomList:function(t){var e=this;this.isLoading=!0,this.axios.get("/getApplySeeRoomList?userID=".concat(this.userID,"&currentPage=").concat(t,"&pageSize=").concat(this.pageSize)).then((function(t){200==t.status&&(e.tableData=t.data.data),e.isLoading=!1})).catch((function(){e.isLoading=!1}))}}},fe=me,pe=(o("087c"),Object(p["a"])(fe,ue,de,!1,null,"a69df8d0",null)),ge=pe.exports,he=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"banner-box"},[o("div",{staticClass:"top"},[o("el-button",{attrs:{size:t.btnSize,type:"primary",plain:""},on:{click:function(e){t.showAddBox=!0}}},[t._v("添加轮播图")])],1),o("div",{staticClass:"imglistbox"},t._l(t.imgData,(function(e){return o("div",{key:e.src,staticClass:"banner-item"},[o("div",{staticStyle:{"break-inside":"avoid"}},[o("el-image",{attrs:{src:e.bannerImgUrl,"preview-src-list":e.bigSrc}},[o("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),o("span",{staticClass:"dot"},[t._v("...")])])]),o("div",{staticClass:"title"},[o("h4",[t._v(t._s(e.bannerTitle))])]),o("p",[t._v(t._s(e.bannerContent))])],1)])})),0),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加轮播图",visible:t.showAddBox,"destroy-on-close":!0},on:{"update:visible":function(e){t.showAddBox=e}}},[o("el-form",{ref:"form",attrs:{"label-position":t.formLabelPosition,"status-icon":"",rules:t.rules,model:t.form,"label-width":"100px",size:"small"}},[o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"标题：",prop:"title"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"内容：",prop:"content"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"图片："}},[o("el-upload",{ref:"upload",attrs:{action:"","http-request":t.fileUpload,"list-type":"picture-card","before-upload":t.beforeAvatarUpload,"on-preview":t.handlePictureCardPreview,"auto-upload":!1,limit:1,"on-success":t.handlePictureCardSuccess}},[o("i",{staticClass:"el-icon-plus"}),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传图片格式的文件（建议尺寸1400x800）")])]),o("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("img",{attrs:{width:"100%",src:t.imgUrl}})])],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showAddBox=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.addBtnLoading},on:{click:function(e){return t.submitForm("form")}}},[t._v(" "+t._s(t.addBtnLoading?"添加中":"添加")+" ")])],1)],1)],1)},ve=[],be={name:"Banner-handle",props:{updateMenuTitle:Function,formLabelPosition:String,btnSize:String},mounted:function(){this.updateMenuTitle("轮播图管理"),this.getBannerData()},data:function(){var t=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入标题")):o()},e=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入内容")):o()};return{showAddBox:!1,addBtnLoading:!1,dialogVisible:!1,imgUrl:"",isLoading:!1,form:{title:"",content:""},rules:{title:{validator:t,trigger:"blur"},content:{validator:e,trigger:"blur"}},imgData:[]}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.$refs.upload.submit()}))},handlePictureCardPreview:function(t){this.imgUrl=t.url,this.dialogVisible=!0},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,o=t.size/1024/1024<5;return e?o?e&&o:(this.$message.error("上传失败，文件大小为5M以下"),!1):(this.$message.error("请上传图片文件、jpg、png"),!1)},fileUpload:function(t,e){var o=this;this.addBtnLoading=!0;var a=this.form,n=a.title,r=a.content,i=new FormData;i.append("file",t.file),i.append("title",n),i.append("content",r),this.axios.post("/banner-handle/add",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){o.addBtnLoading=!1,200==t.status&&200==t.data.code?(o.$message.success(t.data.msg),o.showAddBox=!1,o.getBannerData()):o.$message.error(t.data.msg)})).catch((function(){o.addBtnLoading=!1}))},handlePictureCardSuccess:function(t,e,o){console.log(t,e,o)},getBannerData:function(){var t=this;this.isLoading=!0,this.axios.get("/banner-handle/getBannerAll").then((function(e){200==e.status&&200==e.data.code&&(t.imgData=e.data.data),t.isLoading=!1})).catch((function(){t.isLoading=!1}))}}},we=be,ye=(o("0451"),Object(p["a"])(we,he,ve,!1,null,"8d6352dc",null)),xe=ye.exports,_e=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"news-box"},[o("div",{staticClass:"top"}),o("div",{staticClass:"container"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"房源编号"}},[o("span",[t._v(t._s(e.row.roomNO.roomNO))])]),o("el-form-item",{attrs:{label:"面积"}},[o("span",[t._v(t._s(e.row.roomNO.roomArea)),o("el-tag",{staticStyle:{"margin-left":"10px"}},[t._v("（㎡）")])],1)]),o("el-form-item",{attrs:{label:"地址"}},[o("span",[t._v(t._s(e.row.roomNO.roomAddress))])]),o("el-form-item",{attrs:{label:"价格"}},[o("span",[o("el-tag",{attrs:{type:"danger"}},[t._v("￥"+t._s(e.row.roomNO.roomPrice))])],1)]),o("el-form-item",[o("el-button",{attrs:{size:"small",icon:"el-icon-search"},on:{click:function(o){return t.handleNewsHtml(e.row)}}},[t._v("预览新闻内容 ")])],1)],1)]}}])}),o("el-table-column",{attrs:{label:"发布日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon-time"}),o("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.newTime))])]}}])}),o("el-table-column",{attrs:{prop:"newTitle",label:"标题"}}),o("el-table-column",{attrs:{prop:"userID.userID.userName",label:"发布人"}}),o("el-table-column",{attrs:{prop:"newSeeCount",label:"浏览次数"}}),o("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(o){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑 ")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),o("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage,"hide-on-single-page":""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),o("el-dialog",{staticClass:"html-dialog",attrs:{visible:t.showNewContent},on:{"update:visible":function(e){t.showNewContent=e}}},[o("div",{domProps:{innerHTML:t._s(t.newsHtml)}})])],1)])},Ce=[],Se={name:"News-handle",props:{updateMenuTitle:Function},mounted:function(){this.updateMenuTitle("新闻管理"),this.getRoomNews(0)},data:function(){return{isLoading:!1,tableData:[],showNewContent:!1,newsHtml:"",totalPage:0,pageSize:10,currentPage:0}},methods:{handleEdit:function(t,e){this.$router.push({path:"/home/news-edit-page/".concat(e.roomNewID)})},handleDelete:function(t,e){var o=this;this.$MessageBox.confirm("此操作将永久删除该记录, 是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.axios.post("/News/deleteNews",{roomNewID:e.roomNewID}).then((function(t){200==t.status&&200==t.data.code?(o.$message.success("删除成功"),o.getRoomNews(o.currentPage-1)):o.$message.error("删除失败")}))}))},handleNewsHtml:function(t){this.showNewContent=!0,this.newsHtml=t.newHTML},handleSizeChange:function(t){console.log("多少条: ".concat(t))},handleCurrentChange:function(t){this.getRoomNews(t-1)},getRoomNews:function(t){var e=this;this.isLoading=!0,this.axios.post("/News/getAllNews",{currentPage:t,pageSize:this.pageSize}).then((function(t){200==t.status&&200==t.data.code&&(e.tableData=t.data.data.newsList,e.totalPage=t.data.data.count),e.isLoading=!1})).catch((function(){e.isLoading=!1}))}}},ke=Se,Te=(o("f6f0"),Object(p["a"])(ke,_e,Ce,!1,null,"e198cdfe",null)),Ie=Te.exports,Ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"release-news"},[o("el-row",{staticClass:"top"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},["small"==t.btnSize?o("el-button-group",[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.back()}}},[t._v("返回")]),o("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.showAddTypeBox=!0}}},[t._v("添加新闻类型")])],1):o("el-button-group",[o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.back()}}}),o("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit"},on:{click:function(e){t.showAddTypeBox=!0}}})],1)],1)],1),o("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"100px","label-position":t.formLabelPosition}},[o("el-row",{staticClass:"main"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[o("el-form-item",{attrs:{label:"标题",prop:"title"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"新闻描述",prop:"description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),o("el-form-item",{attrs:{label:"发布人",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),o("el-form-item",{attrs:{label:"房源编号：",prop:"roomNO"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择发布新闻的房源编号"},model:{value:t.form.roomNO,callback:function(e){t.$set(t.form,"roomNO",e)},expression:"form.roomNO"}},t._l(t.roomSource,(function(e){return o("el-option",{key:e.roomID,attrs:{label:e.roomNO,value:e.roomNO}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(e.roomNO))]),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.roomStatus))])])})),1)],1),o("el-form-item",{attrs:{label:"新闻类型",prop:"newsType"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择发布新闻类型"},model:{value:t.form.newsType,callback:function(e){t.$set(t.form,"newsType",e)},expression:"form.newsType"}},t._l(t.newsTypes,(function(t){return o("el-option",{key:t.id,attrs:{label:t.newTypeName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"发布时间"}},[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"date"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1),o("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"time"}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1)],1)],1)],1),o("el-row",[o("el-col",[o("el-form-item",{attrs:{label:"新闻详情内容"}},[o("WangEditor",{attrs:{getEdithorContent:t.getEdithorContent}})],1)],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("form")}}},[t._v("发布新闻")])],1)],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加新闻类型",visible:t.showAddTypeBox,"destroy-on-close":!0},on:{"update:visible":function(e){t.showAddTypeBox=e}}},[o("el-form",{ref:"typeForm",attrs:{"status-icon":"",rules:t.rules,"label-position":t.formLabelPosition,model:t.typeForm,"label-width":"150px",size:"small"}},[o("el-form-item",{attrs:{label:"新闻类型名称",prop:"type"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.typeForm.type,callback:function(e){t.$set(t.typeForm,"type",e)},expression:"typeForm.type"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.showAddTypeBox=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.addBtnIsLoading},on:{click:function(e){return t.addNewsType("typeForm")}}},[t._v(" "+t._s(t.addBtnIsLoading?"添加中":"添加")+" ")])],1)],1)],1)},$e=[],De=(o("a4d3"),o("e01a"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"editor"},[o("div",{ref:"toolbar",staticClass:"toolbar"}),o("div",{ref:"editor",staticClass:"text"})])}),Ae=[],Le=(o("c975"),o("6fad")),Fe=o.n(Le),Be={name:"WangEditor",data:function(){return{editor:null,info_:"",isLoading:!1,addImgArr:[],removeImgArr:[]}},model:{prop:"value",event:"change"},props:{value:{type:String,default:""},isClear:{type:Boolean,default:!1},getEdithorContent:Function},watch:{isClear:function(t){t&&(this.editor.txt.clear(),this.info_=null)},info_:{handler:function(t){var e=this,o=0,a=function(){var a=t.indexOf("http",o),n=t.indexOf('"',a+1),r=t.substring(a,n);e.addImgArr.length>0?e.addImgArr.forEach((function(t){var o=!0;e.addImgArr.forEach((function(t){r==t&&(o=!1)})),o&&e.addImgArr.push(r)})):e.addImgArr.push(r)};while(-1!=(o=t.indexOf("<img",o+3)))a()}},value:{handler:function(t){null!=this.editor&&this.editor.txt.html(t)},immediate:!0}},mounted:function(){this.seteditor()},methods:{seteditor:function(){var t=this;this.editor=new Fe.a(this.$refs.toolbar,this.$refs.editor),this.editor.config.uploadImgMaxSize=2097152,this.editor.config.uploadImgMaxLength=1,this.editor.config.uploadImgTimeout=18e4,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","undo","redo"],this.editor.config.uploadImgHooks={fail:function(e,o,a){t.$message.error("图片上传失败，请联系管理员！！")},timeout:function(e,o){t.$message.error("网络开小差啦！")},error:function(e,o){t.$message.error("图片上传失败，请重新上传")}},this.editor.config.customUploadImg=function(e,o){var a=new FormData;t.isLoading=!0,a.append("file",e[0]),t.axios.post("/News/getNewsImgUrl",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&0==e.data.errno&&(t.addImgArr.push(e.data.data[0]),o(e.data.data))})).catch((function(){t.isLoading=!1}))},this.editor.config.onchange=function(e){""!=e&&(t.info_=e,t.addImgArr.forEach((function(e){var o=!0;-1==t.info_.indexOf(e)&&(t.removeImgArr.forEach((function(t){t==e&&(o=!1)})),o&&t.removeImgArr.push(e))})),t.getEdithorContent(t.info_,t.removeImgArr))},this.editor.config.showFullScreen=!0,this.editor.create()}}},Oe=Be,ze=(o("1a5c"),Object(p["a"])(Oe,De,Ae,!1,null,"4f4c0f6f",null)),Ee=ze.exports,Pe={name:"ReleaseNews",mounted:function(){var t=this;this.updateMenuTitle("发布新闻"),this.axios.get("/News/getNewsTypes").then((function(e){t.newsTypes=e.data.data})).catch((function(){t.$message.error("数据加载失败，请检测网络")})),this.axios.get("/getRoomSourceAll").then((function(e){t.roomSource=e.data.data})).catch((function(){t.$message.error("数据加载失败，请检测网络")}))},components:{WangEditor:Ee},props:{updateMenuTitle:Function,username:String,formLabelPosition:String,userID:String,btnSize:String},data:function(){var t=this,e=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入新闻标题")):o()},o=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入新闻描述")):e.length>=10&&e.length<=100?o():o(new Error("请输入长度为10-100的新闻描述"))},a=function(e,o,a){o=o.trim(),""==o?a(new Error("请输入新闻类型")):o.length<2?a(new Error("请输入2个字符以上")):t.axios.get("/News/checkTypeName?typeName="+o).then((function(t){200==t.status&&200==t.data.code?a():a(new Error(t.data.msg))})).catch((function(){a(new Error("网络出现异常，请检测网络"))}))};return{form:{title:"",username:this.username,roomNO:"",date:"",time:"",newsType:"",description:""},typeForm:{type:""},rules:{title:[{required:!0,message:"请输入新闻标题",trigger:"blur"},{validator:e,trigger:"blur"}],roomNO:[{required:!0,message:"请选择房源",trigger:"blur"}],newsType:[{required:!0,message:"请选择新闻类型",trigger:"blur"}],description:[{required:!0,message:"请输入新闻描述",trigger:"blur"},{validator:o,trigger:"blur"}],type:[{required:!0,message:"请输入新闻类型",trigger:"blur"},{validator:a,trigger:"blur"}]},edithorContent:"",removeImgArr:[],newsTypes:[],roomSource:[],showAddTypeBox:!1,addBtnIsLoading:!1}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;var o=e.edithorContent.trim();if(""==o)return e.$message.error("请输入新闻内容"),!1;if(o.length<50)return e.$message.error("请输入50个字符以上的新闻内容"),!1;var a=e.form,n=a.title,r=a.roomNO,i=a.date,s=a.time,l=a.newsType,c=a.description;if(""!=i){var u=new Date(i);i="".concat(u.getFullYear(),"-").concat(u.getMonth()+1,"-").concat(u.getDate())}if(""!=s){var d=new Date(s);s="".concat(parseInt(d.getHours())<10?"0"+d.getHours():d.getHours(),":").concat(d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes(),":").concat(d.getSeconds()<10?"0"+d.getSeconds():d.getSeconds())}e.axios.post("/News/addNews",{title:n,userID:e.userID,roomNO:r,date:i,time:s,newsType:l,content:o,description:c}).then((function(t){200==t.status&&200==t.data.code&&"添加成功"==t.data.msg?(e.$message.success(t.data.msg),e.$router.push("/home/news-handle")):e.$message.error(t.data.msg)}))}))},addNewsType:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.addBtnIsLoading=!0;var o=e.typeForm.type;e.axios.post("/News/addNewsType",{typeName:o}).then((function(t){200==t.status&&200==t.data.code?(e.$message.success(t.data.msg),e.typeForm.type="",e.axios.get("/News/getNewsTypes").then((function(t){e.newsTypes=t.data.data})).catch((function(){e.$message.error("数据加载失败，请检测网络")})),e.showAddTypeBox=!1):e.$message.error(t.data.msg),e.addBtnIsLoading=!1}))}))},getEdithorContent:function(t,e){this.edithorContent=t,this.removeImgArr=e}}},Me=Pe,Re=(o("cf2c"),Object(p["a"])(Me,Ne,$e,!1,null,"5e723073",null)),He=Re.exports,je=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isloading,expression:"isloading"}],staticClass:"release-news"},[o("el-row",{staticClass:"top"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[o("el-button-group",[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.back()}}},[t._v("返回 ")])],1)],1)],1),o("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"100px","label-position":t.formLabelPosition}},[o("el-row",{staticClass:"main"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[o("el-form-item",{attrs:{label:"标题",prop:"title"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"新闻描述",prop:"description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off",rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),o("el-form-item",{attrs:{label:"发布人",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",disabled:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),o("el-form-item",{attrs:{label:"房源编号：",prop:"roomNO"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择发布新闻的房源编号"},model:{value:t.form.roomNO,callback:function(e){t.$set(t.form,"roomNO",e)},expression:"form.roomNO"}},t._l(t.roomSource,(function(t){return o("el-option",{key:t.roomID,attrs:{label:t.roomNO,value:t.roomNO}})})),1)],1),o("el-form-item",{attrs:{label:"新闻类型",prop:"newsType"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择发布新闻类型"},model:{value:t.form.newsType,callback:function(e){t.$set(t.form,"newsType",e)},expression:"form.newsType"}},t._l(t.newsTypes,(function(t){return o("el-option",{key:t.id,attrs:{label:t.newTypeName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"发布时间"}},[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"date"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1),o("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"time"}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1)],1)],1)],1),o("el-row",[o("el-col",[o("el-form-item",{attrs:{label:"新闻详情内容"}},[o("WangEditor",{attrs:{getEdithorContent:t.getEdithorContent,value:t.value}})],1)],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("form")}}},[t._v("保存新闻")])],1)],1)],1)},Ve=[],Ue=(o("ac1f"),o("1276"),{name:"NewEdit",mounted:function(){var t=this;this.updateMenuTitle("新闻编辑(ID:".concat(this.$route.params.roomNewID,")")),this.isloading=!0,this.axios.get("/News/getNewsTypes").then((function(e){t.newsTypes=e.data.data})).catch((function(){t.$message.error("数据加载失败，请检测网络")})),this.axios.get("/getRoomSourceAll").then((function(e){t.roomSource=e.data.data})).catch((function(){t.$message.error("数据加载失败，请检测网络")}));var e=this.$route.params.roomNewID;e?this.axios.get("/News/getNews?roomNewID="+e).then((function(e){if(200===e.status&&200===e.data.code){var o=e.data.data;t.form.title=o.newTitle,t.form.roomNO=o.roomNO.roomNO,t.form.description=o.newDescription;var a=o.newTime.split(" "),n=new Date(o.newTime);a.length<2?/[-]+/g.test(a[0])?t.form.date=n:t.form.time=n:(t.form.date=n,t.form.time=n),t.form.newsType=o.newTypeID.id,t.value=o.newHTML,t.isloading=!1}else t.$message.error(e.data.msg),t.isloading=!1})):(this.$message.error("编辑失败，缺少必要参数"),this.$router.back())},components:{WangEditor:Ee},props:{updateMenuTitle:Function,username:String,formLabelPosition:String,userID:String},data:function(){var t=this,e=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入新闻标题")):o()},o=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入新闻描述")):e.length>=10&&e.length<=100?o():o(new Error("请输入长度为10-100的新闻描述"))},a=function(e,o,a){o=o.trim(),""==o?a(new Error("请输入新闻类型")):o.length<2?a(new Error("请输入2个字符以上")):t.axios.get("/News/checkTypeName?typeName="+o).then((function(t){200==t.status&&200==t.data.code?a():a(new Error(t.data.msg))})).catch((function(){a(new Error("网络出现异常，请检测网络"))}))};return{form:{title:"",username:this.username,roomNO:"",date:"",time:"",newsType:"",description:""},typeForm:{type:""},rules:{title:[{required:!0,message:"请输入新闻标题",trigger:"blur"},{validator:e,trigger:"blur"}],roomNO:[{required:!0,message:"请选择房源",trigger:"blur"}],newsType:[{required:!0,message:"请选择新闻类型",trigger:"blur"}],description:[{required:!0,message:"请输入新闻描述",trigger:"blur"},{validator:o,trigger:"blur"}],type:[{required:!0,message:"请输入新闻类型",trigger:"blur"},{validator:a,trigger:"blur"}]},edithorContent:"",value:"",removeImgArr:[],newsTypes:[],roomSource:[],addBtnIsLoading:!1,isloading:!1}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;var o=e.edithorContent.trim();if(""==o)return e.$message.error("请输入50个字符以上的新闻内容"),!1;var a=e.form,n=a.title,r=a.roomNO,i=a.date,s=a.time,l=a.newsType,c=a.description;if(""!=i){var u=new Date(i);i="".concat(u.getFullYear(),"-").concat(u.getMonth()+1,"-").concat(u.getDate())}if(""!=s){var d=new Date(s);s="".concat(parseInt(d.getHours())<10?"0"+d.getHours():d.getHours(),":").concat(d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes(),":").concat(d.getSeconds()<10?"0"+d.getSeconds():d.getSeconds())}e.axios.post("/News/updateNews",{roomNewID:e.$route.params.roomNewID,title:n,userID:e.userID,roomNO:r,date:i,time:s,newsType:l,content:o,description:c}).then((function(t){200==t.status&&200==t.data.code&&("修改成功"==t.data.msg?(e.$message.success(t.data.msg),e.$router.push("/home/news-handle")):e.$message.error(t.data.msg))}))}))},getEdithorContent:function(t,e){this.edithorContent=t,this.removeImgArr=e}}}),qe=Ue,We=(o("764c"),Object(p["a"])(qe,je,Ve,!1,null,"39f6f622",null)),Ze=We.exports,Ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",{attrs:{height:"70px"}},[o("IndexNav")],1),o("el-main",[o("div",{staticClass:"news-content"},[o("div",{staticClass:"houseTitle"},[o("span",[t._v(t._s(t.data.newTitle))])]),o("el-row",{staticClass:"titleDetail hidden-xs-only"},[o("el-col",{staticClass:"line",attrs:{lg:3,md:4,sm:8,xs:6}},[t._v(" "+t._s(t.data.roomNO.roomPrice)+" "),o("span",{staticClass:"danwei"},[t._v("元/月")])]),o("el-col",{staticClass:"line",staticStyle:{color:"#333"},attrs:{lg:3,md:4,sm:8,xs:6}},[t._v(" "+t._s(t.data.roomNO.roomArea)+" "),o("span",{staticClass:"danwei"},[t._v("平方米")])]),o("el-col",{staticStyle:{color:"#ccc","font-size":"14px","line-height":"40px"},attrs:{lg:4,md:4,sm:8,xs:12}},[t._v(" 房屋编号："+t._s(t.data.roomNO.roomNO)+" ")])],1),o("el-row",{attrs:{gutter:50}},[o("el-col",{attrs:{lg:16,md:16,sm:24}},[o("el-carousel",{staticClass:"houseBanner"},t._l(t.imgUrls,(function(t){return o("el-carousel-item",{key:t,staticStyle:{height:"100%"}},[o("img",{staticClass:"houseBannerImg",attrs:{src:t}})])})),1)],1),o("el-col",{staticClass:"houseDetail",attrs:{lg:8,md:8,sm:24}},[o("div",{staticClass:"header"},[o("span",{staticClass:"title"},[o("i",{staticClass:"el-icon-chat-line-square"}),t._v("房屋信息")])]),o("div",{staticClass:"content"},[o("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[o("el-col",{attrs:{lg:12,md:24}},[t._v("面积： "),o("span",{staticClass:"item"},[t._v(t._s(t.data.roomNO.roomArea)+"平方米")])]),o("el-col",{attrs:{lg:12,md:24}},[t._v("类型： "),o("span",{staticClass:"item"},[t._v(t._s(t.data.newTypeID.newTypeName))])])],1),o("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[o("el-col",{attrs:{lg:24,md:24}},[t._v("地址： "),o("span",{staticClass:"item"},[t._v(t._s(t.data.roomNO.roomAddress))])])],1),o("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[o("el-col",{attrs:{lg:24,md:24}},[t._v("租金： "),o("span",{staticClass:"item",staticStyle:{color:"#ff3030","font-size":"18px"}},[t._v(" "+t._s(t.data.roomNO.roomPrice)+" "),o("span",{staticStyle:{"font-size":"14px"}},[t._v("元/月")])])])],1),o("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[o("el-col",{attrs:{lg:24,md:24}},[t._v("描述： "),o("span",{staticClass:"item"},[t._v(t._s(t.data.newDescription))])])],1),o("div",{staticStyle:{"margin-top":"10px"}},[o("el-button",{attrs:{type:"success",plain:"",round:""}},[t._v("申请看房")])],1)],1)])],1),o("div",{staticClass:"houseInformation"},[o("div",{staticClass:"header"},[o("span",{staticClass:"title"},[o("i",{staticClass:"el-icon-chat-line-square"}),t._v("房屋新闻")])]),o("div",{staticClass:"content",domProps:{innerHTML:t._s(t.data.newHTML)}})])],1)]),o("el-footer",[o("IndexFooter")],1)],1)},Ye=[],Je=(o("466d"),{name:"Details",components:{IndexFooter:F,IndexNav:I},mounted:function(){var t=this;console.log(this.$route),this.axios.get("/News/getNews?roomNewID=".concat(this.$route.params.id)).then((function(e){200==e.data.code?(t.data=e.data.data,t.getImages(t.data),t.axios.post("/News/updateNewsCount",{roomNewID:t.data.roomNewID}).then((function(e){200==e.data.code?t.data=e.data.data:t.$message.error("获取数据失败，请刷新重试")}))):t.$message.error("获取数据失败，请刷新重试")}))},data:function(){return{data:{},imgUrls:[]}},methods:{getImages:function(t){var e=this,o=t.newHTML,a=/http(.*?)"/g;o.match(a).forEach((function(t){e.imgUrls.push(t.substring(0,t.length-1))}))}}}),Xe=Je,Ke=(o("861e"),Object(p["a"])(Xe,Ge,Ye,!1,null,"203310a4",null)),Qe=Ke.exports,to=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"right",staticStyle:{position:"relative"}},[o("el-tabs",{attrs:{stretch:!0},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{name:"first"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-paperclip myicon-style"}),t._v("已有账号，请绑定")]),o("el-form",{ref:"commonForm",attrs:{"status-icon":"",model:t.commonForm,rules:t.rules,"label-width":"70px","label-position":"center"}},[o("el-form-item",{attrs:{"label-width":"0"}},[o("div",{staticClass:"userInfo-box"},[o("p",{staticClass:"avatar-box"},[o("el-avatar",{attrs:{size:t.avatarSize,src:t.avatarSrc},on:{error:t.errorHandler}},[o("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"#eeeeee"}})])],1),o("p",{staticStyle:{float:"left",color:"#ffffff"}},[t._v("Hi, "+t._s(t.wxNickName)+" 完成绑定后可以微信账号 一键登录哦~")])])]),o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"用户名/手机号","prefix-icon":"el-icon-user"},model:{value:t.commonForm.username,callback:function(e){t.$set(t.commonForm,"username",e)},expression:"commonForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},model:{value:t.commonForm.password,callback:function(e){t.$set(t.commonForm,"password",e)},expression:"commonForm.password"}})],1),o("el-form-item",{attrs:{"label-width":"0"}},[o("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("commonForm")}}},[t._v("立即绑定 ")])],1)],1)],1),o("el-tab-pane",{attrs:{name:"second"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-edit myicon-style"}),t._v("没有账号，请完善信息")]),o("WxRegisterAndBindCompoent")],1)],1)],1)},eo=[],oo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("el-col",{attrs:{lg:24}},[o("div",{staticClass:"content"},[o("el-form",{ref:"commonForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"",model:t.commonForm,rules:t.rules,"label-position":"center"}},[o("el-form-item",{attrs:{prop:"phone"}},[o("el-input",{attrs:{type:"text",autocomplete:"off","prefix-icon":"el-icon-phone-outline",placeholder:"请输入手机号"},model:{value:t.commonForm.phone,callback:function(e){t.$set(t.commonForm,"phone",e)},expression:"commonForm.phone"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off","prefix-icon":"el-icon-lock",placeholder:"请输入密码"},model:{value:t.commonForm.password,callback:function(e){t.$set(t.commonForm,"password",e)},expression:"commonForm.password"}})],1),o("el-form-item",[o("el-progress",{attrs:{percentage:t.percentage,color:t.customColorMethod,format:t.formatpwd}})],1),o("el-form-item",{attrs:{prop:"repassword"}},[o("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",autocomplete:"off",placeholder:"请输入确认密码"},model:{value:t.commonForm.repassword,callback:function(e){t.$set(t.commonForm,"repassword",e)},expression:"commonForm.repassword"}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{staticClass:"code-input",staticStyle:{float:"left"},attrs:{autocomplete:"off",placeholder:"请输入验证码","prefix-icon":"el-icon-orange"},model:{value:t.commonForm.code,callback:function(e){t.$set(t.commonForm,"code",e)},expression:"commonForm.code"}}),o("VerificationCode",{staticStyle:{float:"right"},attrs:{cgCode:t.cgCode,identifyCode:t.identifyCode}})],1),o("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{"label-width":"0"}},[o("el-button",{staticClass:"register-btn",attrs:{type:"primary",loading:t.isloading},on:{click:function(e){return t.submitForm("commonForm")}}},[t._v(" 注册并绑定 ")])],1)],1)],1)])],1)},ao=[],no={name:"Register",mounted:function(){this.cgCode()},data:function(){var t=this,e=function(e,o,a){o=o.trim(),""===o?(a(new Error("请输入密码")),t.percentage=0):o.length<6||o.length>18?a(new Error("请输入6-18位，数字、大小写字母组成的密码！！")):/^\d+$/.test(o)||/^[a-z]+$/.test(o)||/^[A-Z]+$/.test(o)?(t.percentage=33,a()):/^[a-z0-9]+$/g.test(o)?(t.percentage=66,a()):/^[A-Za-z0-9]+$/g.test(o)?(t.percentage=100,a()):a()},o=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入手机号码!")):/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/.test(e)?o():o(new Error("请输入正确的手机号码!!"))},a=function(e,o,a){""==o.trim()?a(new Error("请输入确认密码")):o!=t.commonForm.password?a(new Error("密码不一致")):a()},n=function(t,e,o){""==e.trim()?o(new Error("请输入验证码")):o()};return{commonForm:{password:"",phone:"",repassword:"",code:""},percentage:0,isloading:!1,identifyCode:"",rules:{password:[{validator:e,trigger:"change"}],phone:[{validator:o,trigger:"blur"}],repassword:[{validator:a,trigger:"blur"}],code:[{validator:n,trigger:"blur"}]}}},components:{VerificationCode:re},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var o=e.commonForm,a=o.password,n=o.phone,r=o.code,i=o.repassword;e.axios.post("/login/wxRegisterAndBind",{phone:n,password:a,repassword:i,code:r,openid:e.$route.params.openid}).then((function(t){200==t.status&&200==t.data.code?(e.$message.success(t.data.msg),t.data.token?(localStorage.setItem("token",t.data.token),e.$router.push("/home/info")):e.$router.push("/login/wx")):(e.$message.error(t.data.msg),"网络错误，请重新登录"!=t.data.msg&&"注册绑定成功，将跳转到登录页面"!=t.data.msg||e.$router.push("/login/wx"))}))}}))},cgCode:function(){var t=this;this.axios.get("/getCode",{params:this.$qs.stringify({phone:this.submitForm.phone})}).then((function(e){200==e.status&&(t.identifyCode=e.data.data.code)}))},formatpwd:function(t){return 33==t?"弱":66==t?"中":100==t?"强":void 0},customColorMethod:function(t){return t<=33?"#f56c6c":t<=66?"#e6a23c":t<=100?"#5cb87a":void 0}}},ro=no,io=(o("d04d"),Object(p["a"])(ro,oo,ao,!1,null,"0894615a",null)),so=io.exports,lo={name:"WxRegister",components:{WxRegisterAndBindCompoent:so},mounted:function(){var t=this;this.axios.get("/getWxUserInfo?openid=".concat(this.$route.params.openid)).then((function(e){if(200==e.status&&200==e.data.code){var o=e.data.data,a=o.nickname,n=o.headimgurl;t.wxNickName=a,t.avatarSrc=n}}))},data:function(){var t=function(t,e,o){""==e?o(new Error("请输入用户名或手机号")):o()},e=function(t,e,o){""==e.trim()?o(new Error("请输入密码")):o()};return{commonForm:{username:"",password:""},activeName:"first",avatarSize:30,avatarSrc:"",wxNickName:"",rules:{username:[{validator:t,trigger:"blur"}],password:[{validator:e,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.axios.post("/login/bindAccount",{username:e.commonForm.username,password:e.commonForm.password,openid:e.$route.params.openid}).then((function(t){200==t.status&&200==t.data.code?(localStorage.setItem("token",t.data.token),e.$router.push("/home"),e.$message.success(t.data.msg)):(e.$router.push("/login/wx"),e.$message.error(t.data.msg+"，请重试"))}))}))},handleClick:function(){},errorHandler:function(){return!0}}},co=lo,uo=(o("fb44"),Object(p["a"])(co,to,eo,!1,null,"3c74b9d2",null)),mo=uo.exports,fo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return"管理员"===t.userType?o("AdminInfo",{attrs:{formLabelPosition:t.formLabelPosition,updateMenuTitle:t.updateMenuTitle,userID:t.userID,bgc:t.bgc,"text-color":t.textColor,"active-color":t.activeColor,flag:t.flag}}):o("UserInfo",{attrs:{formLabelPosition:t.formLabelPosition,updateMenuTitle:t.updateMenuTitle,userID:t.userID,bgc:t.bgc,"text-color":t.textColor,"active-color":t.activeColor,flag:t.flag}})},po=[],go=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"adminHomeBox",style:{backgroundColor:t.bgc,color:t.textColor}},[o("el-row",{staticStyle:{height:"50%"},attrs:{gutter:"20"}},[o("el-col",{staticStyle:{height:"100%"},attrs:{lg:16,md:24,sm:24}},[o("div",{staticClass:"seeCountBar"})]),o("el-col",{staticStyle:{height:"100%"},attrs:{lg:8,md:24,sm:24}},[o("div",{staticClass:"pieNews"})])],1),o("el-row",{staticStyle:{height:"50%"},attrs:{gutter:"20"}},[o("el-col",{staticStyle:{height:"100%"},attrs:{lg:16,md:24,sm:24}},[o("div",{staticClass:"lineNums"})]),o("el-col",{staticStyle:{height:"100%"},attrs:{lg:8}})],1)],1)},ho=[],vo=(o("b0c0"),o("4ec9"),o("d3b7"),o("3ca3"),o("ddb0"),o("313e")),bo={name:"AdminInfo",props:{formLabelPosition:String,updateMenuTitle:Function,userID:String,userType:String,bgc:String,textColor:String,activeColor:String,flag:Boolean},watch:{flag:{handler:function(t){this.setEchartsView()}},barData:{handler:function(t){var e=this,o=[],a=[],n=[];t.forEach((function(e){var r=new Map,i={},s={};if(0==o.length)r.set(e.newTime.split(" ")[0],1),o.push(r);else{var l=!1,c=null,u=0;if(o.forEach((function(t,o){void 0!==t.get(e.newTime.split(" ")[0])&&!1===l&&(l=!0,c=t.get(e.newTime.split(" ")[0]),u=o)})),l){o[u].delete(e.newTime.split(" ")[0]);r.set(e.newTime.split(" ")[0],c+1)}else r.delete(e.newTime.split(" ")[0]),r.set(e.newTime.split(" ")[0],1);o.push(r)}if(0==a.length){var d=0,m=0;t.forEach((function(t){e.newTypeID.newTypeName===t.newTypeID.newTypeName&&(d+=1,m+=t.newSeeCount)})),i.name=e.newTypeID.newTypeName,s.name=e.newTypeID.newTypeName,s.value=m,i.value=d,a.push(i),n.push(s)}else{var f=!0;if(a.forEach((function(t){t.name===e.newTypeID.newTypeName&&(f=!1)})),f){var p=0,g=0;t.forEach((function(t){e.newTypeID.newTypeName===t.newTypeID.newTypeName&&(g+=t.newSeeCount,p+=1)})),i.name=e.newTypeID.newTypeName,i.value=p,s.name=e.newTypeID.newTypeName,s.value=g,a.push(i),n.push(s)}}}));var r=[],i=[];o.forEach((function(t){t.forEach((function(t,e){r.push(e),i.push(t)}))}));var s=[],l=[];n.forEach((function(t){s.push(t.name),l.push(t.value)})),this.$nextTick((function(){e.option={title:{text:"每天发布的新闻数量",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:{data:r},yAxis:{type:"value"},series:[{data:i,type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"},itemStyle:{color:"#13CE66"}}]},e.pieOption={title:{text:"各新闻类型的新闻数量占比",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",data:["rose1","rose2","rose3","rose4","rose5","rose6","rose7","rose8"]},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"各新闻类别占比",type:"pie",radius:[30,160],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:5},data:a}]},e.lineOption={title:{text:"各新闻类型的浏览次数",left:"center"},xAxis:{type:"category",data:s},tooltip:{trigger:"axis"},yAxis:{type:"value",label:{text:"次数"}},series:[{data:l,type:"line"}]},e.setEchartsView()}))}}},mounted:function(){var t=this;this.updateMenuTitle("首页"),this.axios.get("/News/getAll").then((function(e){200==e.data.code&&(t.barData=e.data.data)}))},data:function(){return{barData:[],barCharts:null,pieCharts:null,lineCharts:null,option:{},pieOption:{},lineOption:{}}},methods:{setEchartsView:function(){if(null!=this.barCharts&&null!=this.pieCharts&&(this.barCharts.dispose(),this.pieCharts.dispose(),this.lineCharts.dispose()),"#fff"==this.bgc){var t=document.querySelector(".seeCountBar");this.barCharts=vo.init(t,"light"),this.barCharts.setOption(this.option);var e=document.querySelector(".pieNews");this.pieCharts=vo.init(e,"light"),this.pieCharts.setOption(this.pieOption);var o=document.querySelector(".lineNums");this.lineCharts=vo.init(o,"light"),this.lineCharts.setOption(this.lineOption)}else{var a=document.querySelector(".seeCountBar");this.barCharts=vo.init(a,"dark"),this.barCharts.setOption(this.option);var n=document.querySelector(".pieNews");this.pieCharts=vo.init(n,"dark"),this.pieCharts.setOption(this.pieOption);var r=document.querySelector(".lineNums");this.lineCharts=vo.init(r,"dark"),this.lineCharts.setOption(this.lineOption)}}}},wo=bo,yo=(o("5c02"),Object(p["a"])(wo,go,ho,!1,null,"0b91b517",null)),xo=yo.exports,_o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"100px","label-position":t.formLabelPosition}},[o("el-row",[o("el-col",[o("p")])],1),o("el-row",{staticClass:"main"},[o("el-form-item",[o("el-tag",{attrs:{type:"danger"}},[t._v("请认真填写此信息，此信息将用于房屋的租赁等信息上")])],1),o("el-col",{attrs:{sm:24,xs:24}},[o("el-form-item",{attrs:{label:"姓名",prop:"username"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"邮箱",prop:"useremail"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.useremail,callback:function(e){t.$set(t.form,"useremail",e)},expression:"form.useremail"}})],1),o("el-form-item",{attrs:{label:"身份证号",prop:"card"}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.card,callback:function(e){t.$set(t.form,"card",e)},expression:"form.card"}})],1),o("el-form-item",[o("el-row",[o("el-col",{attrs:{offset:4,span:30}},[o("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("form")}}},[t._v("提交")])],1),o("el-col",{attrs:{offset:4,span:30}},[o("el-button",{on:{click:function(e){return t.$router.back()}}},[t._v("返回")])],1)],1)],1)],1)],1)],1)},Co=[],So={name:"UserInfo",props:{formLabelPosition:String,updateMenuTitle:Function,userID:String},mounted:function(){this.updateMenuTitle("实名认证")},data:function(){var t=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入姓名!")):o()},e=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入邮箱!")):/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?o():o(new Error("请输入正确的邮箱格式!"))},o=function(t,e,o){e=e.trim(),""==e?o(new Error("请输入身份证号!")):o()};return{form:{username:"",useremail:"",card:""},rules:{username:[{validator:t,trigger:"blur"}],useremail:[{validator:e,trigger:"blur"}],card:[{validator:o,trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var o=e.form,a=o.username,n=o.useremail,r=o.card;e.axios.post("/registerUserInfo",{userID:e.userID,username:a,useremail:n,card:r}).then((function(t){e.$route.push("/home/info")})).catch((function(){}))}}))}}},ko=So,To=(o("155d"),Object(p["a"])(ko,_o,Co,!1,null,"206d9692",null)),Io=To.exports,No={name:"Info",props:{formLabelPosition:String,updateMenuTitle:Function,userID:String,userType:String,bgc:String,textColor:String,activeColor:String,flag:Boolean},components:{AdminInfo:xo,UserInfo:Io},mounted:function(){},data:function(){return{}},methods:{}},$o=No,Do=Object(p["a"])($o,fo,po,!1,null,"6ef9225e",null),Ao=Do.exports,Lo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"room-list-box"},[o("el-row",{staticClass:"top"},[o("el-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},["mini"==t.btnSize?o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:t.btnSize},on:{click:function(e){return t.$router.back()}}}),"管理员"==t.userType?o("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:t.btnSize},on:{click:function(e){t.addDialogVisible=!0}}}):t._e(),o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showDelAllBtn,expression:"showDelAllBtn"}],attrs:{type:"danger",loading:t.delBtnIsLoading,icon:"el-icon-delete",size:t.btnSize},on:{click:t.deleteAllRow}})],1):o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:t.btnSize},on:{click:function(e){return t.$router.back()}}},[t._v("返回 ")]),"管理员"==t.userType?o("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:t.btnSize},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加房源信息 ")]):t._e(),o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showDelAllBtn,expression:"showDelAllBtn"}],attrs:{type:"danger",loading:t.delBtnIsLoading,icon:"el-icon-delete",size:t.btnSize},on:{click:t.deleteAllRow}},[t._v(t._s(t.delBtnIsLoading?"删除中..":"删除所有选中")+" ")])],1)],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},["管理员"==t.userType?o("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"房源编号"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomNO:e.row.roomNO))])]),o("el-form-item",{attrs:{label:"发布人"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.user.userName:e.row.user.userName))])]),o("el-form-item",{attrs:{label:"更新时间"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomLatelyTime:e.row.roomLatelyTime))])]),o("el-form-item",{attrs:{label:"联系电话"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.user.userPhone:e.row.user.userPhone))])]),o("el-form-item",{attrs:{label:"面积"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomArea:e.row.roomArea)),o("el-tag",{staticStyle:{"margin-left":"10px"}},[t._v("（㎡）")])],1)]),o("el-form-item",{attrs:{label:"地址"}},[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomAddress:e.row.roomAddress))])]),o("el-form-item",{attrs:{label:"价格"}},[o("span",[o("el-tag",{attrs:{type:"danger"}},[t._v("￥"+t._s(void 0!=e.row.data?e.row.data.roomPrice:e.row.roomPrice))])],1)])],1)]}}])}),o("el-table-column",{attrs:{label:"日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon-time"}),o("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(void 0!=e.row.data?e.row.data.roomTime:e.row.roomTime))])]}}])}),o("el-table-column",{attrs:{label:"房源编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomNO:e.row.roomNO))])]}}])}),o("el-table-column",{attrs:{label:"地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomAddress:e.row.roomAddress))])]}}])}),o("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(void 0!=e.row.data?e.row.data.roomStatus:e.row.roomStatus))])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["管理员"==t.userType?o("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(o){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑 ")]):t._e(),"管理员"==t.userType?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")]):t._e(),"管理员"==t.userType||"空闲"!=e.row.roomStatus&&"空闲"!=e.row.data.roomStatus?t._e():o("el-button",{attrs:{size:"mini",type:"primary",plain:"",disabled:void 0!=e.row.data&&e.row.isApply},on:{click:function(o){return t.applyRoomHandle(e.$index,e.row)}}},[t._v(t._s(void 0!=e.row.data&&e.row.isApply?"已申请":"申请看房")+" ")])]}}])})],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"修改房源",visible:t.dialogFormVisible,"destroy-on-close":!0,"before-close":t.closeDialogHandle},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{ref:"form",attrs:{"status-icon":"",rules:t.rules,"label-position":"center",model:t.form,"label-width":"100px",size:"small"}},[o("el-form-item",{attrs:{label:"房源地址：","label-suffix":"￥",prop:"roomAddress"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.roomAddress,callback:function(e){t.$set(t.form,"roomAddress",e)},expression:"form.roomAddress"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源面积：",prop:"roomArea"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomArea,callback:function(e){t.$set(t.form,"roomArea",e)},expression:"form.roomArea"}}),o("el-tag",[t._v("㎡")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源单价：",prop:"roomPrice"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomPrice,callback:function(e){t.$set(t.form,"roomPrice",e)},expression:"form.roomPrice"}}),o("el-tag",{attrs:{type:"danger"}},[t._v("元")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源状态：",prop:"roomStatus"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form.roomStatus,callback:function(e){t.$set(t.form,"roomStatus",e)},expression:"form.roomStatus"}},[o("el-option",{attrs:{label:"空闲",value:"空闲"}}),o("el-option",{attrs:{label:"已租",value:"已租"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.closeDialogHandle}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.editBtnIsLoading},on:{click:function(e){return t.submitForm("form")}}},[t._v(" "+t._s(t.editBtnIsLoading?"修改中":"修改")+" ")])],1)],1),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加房源",visible:t.addDialogVisible,"destroy-on-close":!0,"before-close":t.closeDialogHandle},on:{"update:visible":function(e){t.addDialogVisible=e}}},[o("el-form",{ref:"form",attrs:{"status-icon":"",rules:t.rules,"label-position":"center",model:t.form,"label-width":"100px",size:"small"}},[o("el-form-item",{attrs:{label:"房源地址：","label-suffix":"￥",prop:"roomAddress"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.roomAddress,callback:function(e){t.$set(t.form,"roomAddress",e)},expression:"form.roomAddress"}})],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源面积：",prop:"roomArea"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomArea,callback:function(e){t.$set(t.form,"roomArea",e)},expression:"form.roomArea"}}),o("el-tag",[t._v("㎡")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源单价：",prop:"roomPrice"}},[o("el-input",{staticStyle:{width:"40%"},attrs:{autocomplete:"off"},model:{value:t.form.roomPrice,callback:function(e){t.$set(t.form,"roomPrice",e)},expression:"form.roomPrice"}}),o("el-tag",{attrs:{type:"danger"}},[t._v("元")])],1),o("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"房源状态：",prop:"roomStatus"}},[o("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form.roomStatus,callback:function(e){t.$set(t.form,"roomStatus",e)},expression:"form.roomStatus"}},[o("el-option",{attrs:{label:"空闲",value:"空闲"}}),o("el-option",{attrs:{label:"已租",value:"已租"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.closeDialogHandle}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary",loading:t.editBtnIsLoading},on:{click:function(e){return t.addSubmitForm("form")}}},[t._v(" "+t._s(t.editBtnIsLoading?"添加中":"添加")+" ")])],1)],1),o("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage,"hide-on-single-page":""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)},Fo=[],Bo={name:"SeeRoomApply",props:{updateMenuTitle:Function,userType:String,userID:String,btnSize:String},mounted:function(){this.updateMenuTitle("看房申请列表")},data:function(){return{isLoading:!1,editBtnIsLoading:!1,tableData:[],dialogFormVisible:!1,addDialogVisible:!1,showDelAllBtn:!1,delBtnIsLoading:!1,applyLoading:!1,deleteAllRowArr:[],form:{roomNO:"",roomAddress:"",roomArea:"",roomPrice:"",roomStatus:""},totalPage:0,pageSize:10,currentPage:0,rules:{roomAddress:{validator:validateRoomAddress,trigger:"blur"},roomArea:{validator:validateRoomArea,trigger:"blur"},roomPrice:{validator:validateRoomPrice,trigger:"blur"},roomStatus:{validator:validateRoomStatus,trigger:"blur"}}}}},Oo=Bo,zo=Object(p["a"])(Oo,Lo,Fo,!1,null,"d6d68264",null),Eo=zo.exports;c["default"].use(v["a"]);var Po=[{path:"/",name:"index",component:st},{path:"/details/:id",name:"Details",component:Qe},{name:"login",path:"/login",component:ft,beforeEnter:function(t,e,o){null==localStorage.getItem("token")?o():c["default"].axios.get("/login/checked").then((function(t){200==t.status&&("未登录"==t.data.msg?o():o("/home/info"))}))},children:[{path:"common",name:"common",component:wt},{path:"wx",name:"Wx",component:kt},{path:"WxRegister/:openid/",name:"WxRegister",component:mo}]},{path:"/register",name:"register",component:ce,beforeEnter:function(t,e,o){null==localStorage.getItem("token")?o():c["default"].axios.get("/login/checked").then((function(t){200==t.status&&("未登录"==t.data.msg?o():o("/home/info"))}))}},{path:"/home/:token*",name:"home",component:Xt,children:[{path:"info",name:"info",component:Ao},{path:"roomlist",name:"房源列表",component:ge},{path:"banner-handle",name:"轮播图管理",component:xe},{path:"news-handle",name:"新闻管理",component:Ie},{path:"news-release",name:"发布新闻",component:He},{path:"news-edit-page/:roomNewID",name:"新闻编辑",component:Ze},{path:"info",name:"实名认证",component:Ao},{path:"seeroom",name:"看房申请",component:Eo}],beforeEnter:function(t,e,o){console.log(t,e),void 0!==t.params.token&&null==localStorage.getItem("token")?(localStorage.setItem("token",t.params.token),c["default"].axios.get("/login/checked").then((function(t){200==t.status&&("未登录"==t.data.msg?o("/login/common"):(i.a.success("登录成功"),o("/home/info")))})).catch((function(){o("/login/common")}))):null==localStorage.getItem("token")?o("/login/common"):c["default"].axios.get("/login/checked").then((function(t){200==t.status&&("未登录"==t.data.msg?o("/login/common"):o())}))}}],Mo=new v["a"]({routes:Po}),Ro=Mo,Ho=(o("be4f"),o("896a")),jo=o.n(Ho),Vo=(o("bd49"),o("18ff")),Uo=o.n(Vo),qo=(o("960d"),o("defb")),Wo=o.n(qo),Zo=(o("a7cc"),o("df33")),Go=o.n(Zo),Yo=(o("6b30"),o("c284")),Jo=o.n(Yo),Xo=(o("fd71"),o("a447")),Ko=o.n(Xo),Qo=(o("10cb"),o("f3ad")),ta=o.n(Qo),ea=(o("eca7"),o("3787")),oa=o.n(ea),aa=(o("425f"),o("4105")),na=o.n(aa),ra=(o("186a"),o("301f")),ia=o.n(ra),sa=(o("96dc"),o("9cea")),la=o.n(sa),ca=(o("f4f9"),o("c2cc")),ua=o.n(ca),da=(o("7a0f"),o("0f6c")),ma=o.n(da),fa=(o("920a"),o("4f0c")),pa=o.n(fa),ga=(o("e2f3"),o("06f9")),ha=o.n(ga),va=(o("cb70"),o("b370")),ba=o.n(va),wa=(o("cbb5"),o("8bbc")),ya=o.n(wa),xa=(o("b84d"),o("c216")),_a=o.n(xa),Ca=(o("8f24"),o("76b9")),Sa=o.n(Ca),ka=(o("de31"),o("c69e")),Ta=o.n(ka),Ia=(o("a673"),o("7b31")),Na=o.n(Ia),$a=(o("a769"),o("5cc3")),Da=o.n($a),Aa=(o("adec"),o("3d2d")),La=o.n(Aa),Fa=(o("34db"),o("3803")),Ba=o.n(Fa),Oa=(o("ce18"),o("f58e")),za=o.n(Oa),Ea=(o("8bd8"),o("4cb2")),Pa=o.n(Ea),Ma=(o("4ca3"),o("443e")),Ra=o.n(Ma),Ha=(o("1951"),o("eedf")),ja=o.n(Ha),Va=(o("0c67"),o("299c")),Ua=o.n(Va),qa=(o("672e"),o("101e")),Wa=o.n(qa),Za=(o("06f1"),o("6ac9")),Ga=o.n(Za),Ya=(o("5466"),o("ecdf")),Ja=o.n(Ya),Xa=(o("38a0"),o("ad41")),Ka=o.n(Xa),Qa=(o("6611"),o("e772")),tn=o.n(Qa),en=(o("1f1a"),o("4e4b")),on=o.n(en),an=(o("acb6"),o("c673")),nn=o.n(an),rn=(o("f225"),o("89a9")),sn=o.n(rn),ln=(o("ae26"),o("845f")),cn=o.n(ln),un=(o("4ffc"),o("946e")),dn=o.n(un),mn=(o("826b"),o("c263")),fn=o.n(mn),pn=(o("b8e0"),o("a4c4")),gn=o.n(pn),hn=(o("075a"),o("72aa")),vn=o.n(hn),bn=(o("e612"),o("dd87")),wn=o.n(bn),yn=(o("e960"),o("b35b")),xn=o.n(yn);c["default"].use(xn.a),c["default"].use(wn.a),c["default"].use(vn.a),c["default"].use(gn.a),c["default"].use(fn.a),c["default"].use(dn.a),c["default"].use(cn.a),c["default"].use(sn.a),c["default"].use(nn.a),c["default"].use(on.a),c["default"].use(tn.a),c["default"].use(Ka.a),c["default"].use(Ja.a),c["default"].use(Ga.a),c["default"].use(Wa.a),c["default"].use(Ua.a),c["default"].use(ja.a),c["default"].use(Ra.a),c["default"].use(Pa.a),c["default"].use(za.a),c["default"].use(Ba.a),c["default"].use(La.a),c["default"].use(Da.a),c["default"].use(Na.a),c["default"].use(Ta.a),c["default"].use(Sa.a),c["default"].use(_a.a),c["default"].use(ya.a),c["default"].use(ba.a),c["default"].use(ha.a),c["default"].use(pa.a),c["default"].use(ma.a),c["default"].use(ua.a),c["default"].use(la.a),c["default"].use(ia.a),c["default"].use(na.a),c["default"].use(oa.a),c["default"].use(ta.a),c["default"].use(Ko.a),c["default"].use(Jo.a),c["default"].use(Go.a),c["default"].use(Wo.a),c["default"].use(Uo.a),c["default"].use(jo.a);var _n=o("bc3a"),Cn=o.n(_n),Sn=o("2106"),kn=o.n(Sn),Tn=o("4328"),In=o.n(Tn);o("e05f");Cn.a.defaults.baseURL="/api",Cn.a.defaults.headers.post["deviceCode"]="A95ZEF1-47B5-AC90BF3",c["default"].config.productionTip=!1,c["default"].prototype.$qs=In.a,c["default"].prototype.$MessageBox=l.a,c["default"].prototype.$message=i.a,c["default"].prototype.$notify=n.a,c["default"].use(kn.a,Cn.a),Cn.a.interceptors.request.use((function(t){return null!=localStorage.getItem("token")&&(t.headers={token:localStorage.getItem("token")}),t}),(function(t){return i.a.error("网络开小差了，请检查网络"),t})),Cn.a.interceptors.response.use((function(t){return t}),(function(t){return 18e4!=t.config.timeout&&i.a.error("网络开小差了，请检查网络"),t})),new c["default"]({router:Ro,render:function(t){return t(h)}}).$mount("#app")},"5c02":function(t,e,o){"use strict";o("785e")},"5e72":function(t,e,o){},"608c":function(t,e,o){},6145:function(t,e,o){t.exports=o.p+"img/gxzjy-logo.826130ca.png"},"6be2":function(t,e,o){},"6d44":function(t,e,o){t.exports=o.p+"img/index-logo.b14f7279.png"},"6d98":function(t,e,o){},"75f4":function(t,e,o){},"764c":function(t,e,o){"use strict";o("a44b")},7669:function(t,e,o){},"76be":function(t,e,o){"use strict";o("d3e2")},"785e":function(t,e,o){},"85ec":function(t,e,o){},"861e":function(t,e,o){"use strict";o("bede")},"902d":function(t,e,o){"use strict";o("4ee4")},9150:function(t,e,o){"use strict";o("0f3c")},"936e":function(t,e,o){"use strict";o("6d98")},"9f6d":function(t,e,o){},a44b:function(t,e,o){},a9a7:function(t,e,o){"use strict";o("608c")},add1:function(t,e,o){},affd:function(t,e,o){},b081:function(t,e,o){},b259:function(t,e,o){"use strict";o("f3adc")},b5ba:function(t,e,o){},bc6e:function(t,e,o){"use strict";o("b081")},bede:function(t,e,o){},bf32:function(t,e,o){},c984:function(t,e,o){"use strict";o("d792")},ca05:function(t,e){!function(t,e,o){function a(t){var o="default";!0===t.self_redirect?o="true":!1===t.self_redirect&&(o="false");var a=e.createElement("iframe"),n="https://open.weixin.qq.com/connect/qrconnect?appid="+t.appid+"&scope="+t.scope+"&redirect_uri="+t.redirect_uri+"&state="+t.state+"&login_type=jssdk&self_redirect="+o;n+=t.style?"&style="+t.style:"",n+=t.href?"&href="+t.href:"",a.src=n,a.frameBorder="0",a.allowTransparency="true",a.sandbox="allow-scripts allow-top-navigation allow-same-origin",a.scrolling="no",a.width="300px",a.height="400px";var r=e.getElementById(t.id);r.innerHTML="",r.appendChild(a)}t.WxLogin=a}(window,document)},cd55:function(t,e,o){"use strict";o("f552")},cf2c:function(t,e,o){"use strict";o("d3a0")},d04d:function(t,e,o){"use strict";o("5e72")},d3a0:function(t,e,o){},d3e2:function(t,e,o){},d792:function(t,e,o){},dc35:function(t,e,o){},e62d7:function(t,e,o){},e9a2:function(t,e,o){"use strict";o("dc35")},f300:function(t,e,o){"use strict";o("75f4")},f3adc:function(t,e,o){},f552:function(t,e,o){},f6f0:function(t,e,o){"use strict";o("e62d7")},fb44:function(t,e,o){"use strict";o("bf32")}});